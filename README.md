# DIMS  

![SQL Server](https://img.shields.io/badge/sql%20server-2017+-blue.svg)
![Java](https://img.shields.io/badge/java-1.8+-green.svg)
![Tomcat](https://img.shields.io/badge/tomcat-9.0+-yellow.svg)

ğŸŸ æ•°æ®åº“ç³»ç»ŸåŸç†è¯¾ç¨‹è®¾è®¡ï¼ŒDIMSï¼ŒDrug Inventory Management Systemï¼ŒåŸºäº SSM æ¡†æ¶çš„åŒ»é™¢è¯å“åº“å­˜ç®¡ç†ç³»ç»Ÿã€‚  

## ä»»åŠ¡è¿›åº¦  

- [X] [0. æœ¬ç»„æˆå‘˜ä»»åŠ¡åˆ†å·¥](#æœ¬ç»„æˆå‘˜ä»»åŠ¡åˆ†å·¥)  
- [X] [1. æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)  
    - [X] [1.1 éœ€æ±‚åˆ†æ](#éœ€æ±‚åˆ†æ)  
        - [X] [1.1.1 ä¸šåŠ¡ç”¨ä¾‹å›¾](#ä¸šåŠ¡ç”¨ä¾‹å›¾)  
        - [X] [1.1.2 æ•°æ®å­—å…¸](#æ•°æ®å­—å…¸)  
    - [X] [1.2 æ¦‚å¿µç»“æ„è®¾è®¡](#æ¦‚å¿µç»“æ„è®¾è®¡)  
        - [X] [1.2.1 E-R å›¾](#E-R-å›¾)  
    - [X] [1.3 é€»è¾‘ç»“æ„è®¾è®¡](#é€»è¾‘ç»“æ„è®¾è®¡)  
        - [X] [1.3.1 E-R å›¾å‘å…³ç³»æ¨¡å‹çš„è½¬æ¢](#E-R-å›¾å‘å…³ç³»æ¨¡å‹çš„è½¬æ¢)  
        - [X] [1.3.2 æ•°æ®æ¨¡å‹çš„ä¼˜åŒ–](#æ•°æ®æ¨¡å‹çš„ä¼˜åŒ–)  
        - [X] [1.3.3 è®¾è®¡ç”¨æˆ·å­æ¨¡å¼](#è®¾è®¡ç”¨æˆ·å­æ¨¡å¼)  
    - [X] [1.4 ç‰©ç†ç»“æ„è®¾è®¡](#ç‰©ç†ç»“æ„è®¾è®¡)  
        - [X] [1.4.1 å…³ç³»æ¨¡å¼å­˜å–æ–¹æ³•é€‰æ‹©](#å…³ç³»æ¨¡å¼å­˜å–æ–¹æ³•é€‰æ‹©)  
    - [X] [1.5 æ•°æ®åº“å®æ–½](#æ•°æ®åº“å®æ–½)  
        - [X] [1.5.1 å»ºç«‹æ•°æ®åº“](#å»ºç«‹æ•°æ®åº“)  
        - [X] [1.5.2 å»ºç«‹åŸºæœ¬è¡¨](#å»ºç«‹åŸºæœ¬è¡¨)  
        - [X] [1.5.3 å»ºç«‹è§†å›¾](#å»ºç«‹è§†å›¾)  
        - [X] [1.5.4 å»ºç«‹å­˜å‚¨è¿‡ç¨‹](#å»ºç«‹å­˜å‚¨è¿‡ç¨‹)  
    - [X] [1.6 æ•°æ®åº“è¿è¡Œå’Œç»´æŠ¤](#æ•°æ®åº“è¿è¡Œå’Œç»´æŠ¤)  
- [X] [2. åº”ç”¨ç³»ç»Ÿè®¾è®¡](#åº”ç”¨ç³»ç»Ÿè®¾è®¡)  
    - [X] [2.0 æŠ€æœ¯é€‰å‹](#æŠ€æœ¯é€‰å‹)  
    - [X] [2.1 è¯¦ç»†è®¾è®¡](#è¯¦ç»†è®¾è®¡)  
        - [X] [2.1.1 é¡µé¢æµç¨‹å›¾](#é¡µé¢æµç¨‹å›¾)  
        - [X] [2.1.2 æ—¶åºå›¾](#æ—¶åºå›¾)  
    - [X] [2.2 ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)  
        - [X] [2.2.1 é…ç½® Java ç¯å¢ƒ](#é…ç½®-Java-ç¯å¢ƒ)  
        - [X] [2.2.2 å®‰è£… Eclipse IDE for Enterprise Java Developers](#å®‰è£…-Eclipse-IDE-for-Enterprise-Java-Developers)  
        - [X] [2.2.3 é…ç½® Tomcat ç¯å¢ƒ](#é…ç½®-Tomcat-ç¯å¢ƒ)  
        - [X] [2.2.4 åœ¨ Eclipse ä¸­é…ç½® Tomcat Server](#åœ¨-Eclipse-ä¸­é…ç½®-Tomcat-Server)  
    - [X] [2.3 åˆ›å»ºä¸€ä¸ªæ–°çš„ Dynamic Web é¡¹ç›®](#åˆ›å»ºä¸€ä¸ªæ–°çš„-Dynamic-Web-é¡¹ç›®)  
    - [X] [2.4 é›†æˆ Spring å’Œ SpingMVC](#é›†æˆ-Spring-å’Œ-SpingMVC)  
        - [X] [2.4.1 å¯¼å…¥ Spring çš„ jar åŒ…](#å¯¼å…¥-Spring-çš„-jar-åŒ…)  
        - [X] [2.4.2 å¯¼å…¥ SpringMVC çš„ jar åŒ…](#å¯¼å…¥-SpringMVC-çš„-jar-åŒ…)  
        - [X] [2.4.3 å¯¼å…¥ Apache Commons çš„ jar åŒ…](#å¯¼å…¥-Apache-Commons-çš„-jar-åŒ…)  
        - [X] [2.4.4 å¯¼å…¥å…¶å®ƒåŸºç¡€ jar åŒ…](#å¯¼å…¥å…¶å®ƒåŸºç¡€-jar-åŒ…)  
        - [X] [2.4.5 é…ç½® Spring](#é…ç½®-Spring)  
        - [X] [2.4.6 é…ç½® SpringMVC](#é…ç½®-SpringMVC)  
    - [X] [2.5 é…ç½® web.xml](#é…ç½®-web.xml)  
    - [X] [2.6 é›†æˆ Spring å’Œ MyBatis](#é›†æˆ-Spring-å’Œ-MyBatis)  
        - [X] [2.6.1 å¯¼å…¥ MyBatis çš„ jar åŒ…](#å¯¼å…¥-MyBatis-çš„-jar-åŒ…)  
        - [X] [2.6.2 é…ç½® MyBatis](#é…ç½®-MyBatis)  
    - [X] [2.7 é…ç½® log4j](#é…ç½®-log4j)  
    - [X] [2.8 é›†æˆåŸºäº Bootstrap å‰ç«¯æ¡†æ¶çš„ ACE ç®¡ç†ç³»ç»Ÿé¡µé¢æ¨¡æ¿](#é›†æˆåŸºäº-Bootstrap-å‰ç«¯æ¡†æ¶çš„-ACE-ç®¡ç†ç³»ç»Ÿé¡µé¢æ¨¡æ¿)  
    - [X] [2.9 å¯¼å…¥ Apache Taglibs çš„ jar åŒ…](#å¯¼å…¥-Apache-Taglibs-çš„-jar-åŒ…)  
- [X] [3. æµ‹è¯•ä¸éªŒæ”¶](#æµ‹è¯•ä¸éªŒæ”¶)  
    - [X] [3.1 ç•Œé¢æµ‹è¯•](#ç•Œé¢æµ‹è¯•)  
    - [X] [3.2 åŠŸèƒ½æµ‹è¯•](#åŠŸèƒ½æµ‹è¯•)  
    - [X] [3.3 æ€§èƒ½æµ‹è¯•](#æ€§èƒ½æµ‹è¯•)  
    - [X] [3.4 éœ€æ±‚æµ‹è¯•](#éœ€æ±‚æµ‹è¯•)  
- [X] [4. é‡åˆ°çš„é—®é¢˜](#é‡åˆ°çš„é—®é¢˜)  
- [X] [5. æˆæœæˆªå›¾](#æˆæœæˆªå›¾)  

## æœ¬ç»„æˆå‘˜ä»»åŠ¡åˆ†å·¥  

* éœ€æ±‚åˆ†æï¼šå…¨å‘˜  
* æ¦‚å¿µç»“æ„è®¾è®¡ï¼šå…¨å‘˜  
* é€»è¾‘ç»“æ„è®¾è®¡ï¼šå…¨å‘˜  
* ç‰©ç†ç»“æ„è®¾è®¡ï¼šå…¨å‘˜  
* æ•°æ®åº“å®æ–½ï¼šå…¨å‘˜  
* æ•°æ®åº“è¿è¡Œå’Œç»´æŠ¤ï¼šå…¨å‘˜  
* åº”ç”¨ç³»ç»Ÿè®¾è®¡ï¼š[tys1998](https://github.com/tys1998)  
* æµ‹è¯•ä¸éªŒæ”¶ï¼š[RID0517](https://github.com/RID0517)ã€[Chingki](https://github.com/Chingki)ã€[ice-che](https://github.com/ice-che)  
* ç¼–å†™æ–‡æ¡£ï¼š[RID0517](https://github.com/RID0517)ã€[ice-che](https://github.com/ice-che)  
* ç¼–å†™ç­”è¾© PPTï¼š[unique717171](https://github.com/unique717171)  

## æ•°æ®åº“è®¾è®¡  

åœ¨æ•°æ®åº“è®¾è®¡è¿‡ç¨‹ä¸­ï¼Œéœ€æ±‚åˆ†æå’Œæ¦‚å¿µç»“æ„è®¾è®¡å¯ä»¥ç‹¬ç«‹äºä»»ä½•æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè¿›è¡Œï¼Œé€»è¾‘ç»“æ„è®¾è®¡å’Œç‰©ç†ç»“æ„è®¾è®¡ä¸é€‰ç”¨çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå¯†åˆ‡ç›¸å…³ã€‚  

### éœ€æ±‚åˆ†æ  

éœ€æ±‚åˆ†æå¿…é¡»å‡†ç¡®äº†è§£ä¸åˆ†æç”¨æˆ·éœ€æ±‚ (åŒ…æ‹¬æ•°æ®ä¸å¤„ç†)ã€‚  

**è®¾è®¡æè¿°**ï¼šæ•°å­—å­—å…¸ã€å…¨ç³»ç»Ÿä¸­æ•°æ®é¡¹ã€æ•°æ®ç»“æ„ã€æ•°æ®æµã€æ•°æ®å­˜å‚¨çš„æè¿°ã€‚  

**ä»»åŠ¡**ï¼šé€šè¿‡è¯¦ç»†è°ƒæŸ¥ç°å®ä¸–ç•Œè¦å¤„ç†çš„å¯¹è±¡ (ç»„ç»‡ã€éƒ¨é—¨ã€ä¼ä¸šç­‰)ï¼Œå……åˆ†äº†è§£åŸç³»ç»Ÿ (æ‰‹å·¥ç³»ç»Ÿæˆ–è®¡ç®—æœºç³»ç»Ÿ) çš„å·¥ä½œæ¦‚å†µï¼Œæ˜ç¡®ç”¨æˆ·çš„å„ç§éœ€æ±‚ï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šç¡®å®šæ–°ç³»ç»Ÿçš„åŠŸèƒ½ã€‚æ–°ç³»ç»Ÿå¿…é¡»å……åˆ†è€ƒè™‘ä»Šåå¯èƒ½çš„æ‰©å……å’Œæ”¹å˜ï¼Œä¸èƒ½ä»…ä»…æŒ‰å½“å‰åº”ç”¨éœ€æ±‚æ¥è®¾è®¡æ•°æ®åº“ã€‚è°ƒæŸ¥çš„é‡ç‚¹æ˜¯ **â€œæ•°æ®â€** å’Œ **â€œå¤„ç†â€**ï¼Œé€šè¿‡è°ƒæŸ¥ã€æ”¶é›†ä¸åˆ†æï¼Œè·å¾—ç”¨æˆ·å¯¹æ•°æ®åº“çš„å¦‚ä¸‹è¦æ±‚ï¼š  

* **ä¿¡æ¯è¦æ±‚**ï¼šæŒ‡ç”¨æˆ·éœ€è¦ä»æ•°æ®åº“ä¸­è·å¾—ä¿¡æ¯çš„å†…å®¹ä¸æ€§è´¨ã€‚ç”±ä¿¡æ¯è¦æ±‚å¯ä»¥å¯¼å‡ºæ•°æ®è¦æ±‚ï¼Œå³åœ¨æ•°æ®åº“ä¸­éœ€è¦å­˜å‚¨å“ªäº›æ•°æ®ã€‚  
* **å¤„ç†è¦æ±‚**ï¼šæŒ‡ç”¨æˆ·è¦å®Œæˆçš„æ•°æ®å¤„ç†åŠŸèƒ½ï¼Œå¯¹å¤„ç†æ€§èƒ½çš„è¦æ±‚ã€‚  
* **å®‰å…¨æ€§ä¸å®Œæ•´æ€§è¦æ±‚**  

#### ä¸šåŠ¡ç”¨ä¾‹å›¾  

![éœ€æ±‚åˆ†æ_ä¸šåŠ¡ç”¨ä¾‹å›¾](./Doc/éœ€æ±‚åˆ†æ_ä¸šåŠ¡ç”¨ä¾‹å›¾.png)  

å‚è€ƒï¼š  

* [UML ä¹‹ç”¨ä¾‹å›¾](https://www.cnblogs.com/gd-luojialin/p/10356704.html)  

#### æ•°æ®å­—å…¸  

æ•°æ®å­—å…¸æ˜¯è¿›è¡Œè¯¦ç»†çš„æ•°æ®æ”¶é›†å’Œæ•°æ®åˆ†ææ‰€è·å¾—çš„ä¸»è¦æˆæœã€‚å®ƒæ˜¯å…³äºæ•°æ®åº“ä¸­æ•°æ®çš„æè¿°ï¼Œå³å…ƒæ•°æ®ï¼Œè€Œä¸æ˜¯æ•°æ®æœ¬èº«ã€‚æ•°æ®å­—å…¸æ˜¯åœ¨éœ€æ±‚åˆ†æé˜¶æ®µå»ºç«‹ï¼Œåœ¨æ•°æ®åº“è®¾è®¡è¿‡ç¨‹ä¸­ä¸æ–­ä¿®æ”¹ã€å……å®ã€å®Œå–„çš„ã€‚å®ƒåœ¨æ•°æ®åº“è®¾è®¡ä¸­å æœ‰å¾ˆé‡è¦çš„åœ°ä½ã€‚æ•°æ®å­—å…¸é€šå¸¸åŒ…æ‹¬æ•°æ®é¡¹ã€æ•°æ®ç»“æ„ã€æ•°æ®æµã€æ•°æ®å­˜å‚¨å’Œå¤„ç†è¿‡ç¨‹å‡ éƒ¨åˆ†ã€‚å…¶ä¸­æ•°æ®é¡¹æ˜¯æ•°æ®çš„æœ€å°ç»„æˆå•ä½ï¼Œè‹¥å¹²ä¸ªæ•°æ®é¡¹å¯ä»¥ç»„æˆä¸€ä¸ªæ•°æ®ç»“æ„ã€‚æ•°æ®å­—å…¸é€šè¿‡å¯¹æ•°æ®é¡¹å’Œæ•°æ®ç»“æ„çš„å®šä¹‰æ¥æè¿°æ•°æ®æµã€æ•°æ®å­˜å‚¨çš„é€»è¾‘å†…å®¹ã€‚  

* **æ•°æ®é¡¹**ï¼šæ•°æ®é¡¹æ˜¯ä¸å¯å†åˆ†çš„æ•°æ®å•ä½ã€‚å¯¹æ•°æ®é¡¹çš„æè¿°é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š  

    ```
    æ•°æ®é¡¹æè¿° = { æ•°æ®é¡¹å, æ•°æ®é¡¹å«ä¹‰è¯´æ˜, åˆ«å, æ•°æ®ç±»å‹, é•¿åº¦, å–å€¼èŒƒå›´, å–å€¼å«ä¹‰, ä¸å…¶ä»–æ•°æ®é¡¹çš„é€»è¾‘å…³ç³», æ•°æ®é¡¹ä¹‹é—´çš„è”ç³» }
    ```

    | æ•°æ®é¡¹å | æ•°æ®é¡¹å«ä¹‰è¯´æ˜ | æ•°æ®ç±»å‹ | é•¿åº¦ | å–å€¼èŒƒå›´ | å–å€¼å«ä¹‰ | ä¸å…¶ä»–æ•°æ®é¡¹çš„é€»è¾‘å…³ç³» | æ•°æ®é¡¹ä¹‹é—´çš„è”ç³» |
    | --- | --- | --- | --- | --- | --- | --- | --- |
    | Ano | åº“å­˜ç®¡ç†å‘˜ç¼–å· | VARCHAR | 20 |  |  |  |  |
    | Aname | åº“å­˜ç®¡ç†å‘˜å§“å | VARCHAR | 20 |  |  |  | Anoâ†’Aname |
    | Asex | åº“å­˜ç®¡ç†å‘˜æ€§åˆ« | BIT | 1 | { 0, 1 } | 0 ä»£è¡¨å¥³ï¼Œ1 ä»£è¡¨ç”· |  | Anoâ†’Asex |
    | Aage | åº“å­˜ç®¡ç†å‘˜å¹´é¾„ | SMALLINT | 2 | [0, 32767] |  |  | Anoâ†’Aage |
    | Apwd | åº“å­˜ç®¡ç†å‘˜ç™»é™†å¯†ç  | VARCHAR | 20 |  |  |  | Anoâ†’Apwd |
    | Dno | åŒ»ç”Ÿç¼–å· | VARCHAR | 20 |  |  |  |   |
    | Dname | åŒ»ç”Ÿå§“å | VARCHAR | 20 |  |  |  | Dnoâ†’Dname |
    | Dsex | åŒ»ç”Ÿæ€§åˆ« | BIT | 1 | { 0, 1 } | 0 ä»£è¡¨å¥³ï¼Œ1 ä»£è¡¨ç”· |  | Dnoâ†’Dsex |
    | Dage | åŒ»ç”Ÿå¹´é¾„ | SMALLINT | 2 | [0, 32767] |  |  | Dnoâ†’Dage |
    | Dpwd | åŒ»ç”Ÿç™»é™†å¯†ç  | VARCHAR | 20 |  |  |  | Dnoâ†’Dpwd |
    | Nno | å‘è¯å¤„æŠ¤å£«ç¼–å· | VARCHAR | 20 |  |  |  |  |
    | Nname | å‘è¯å¤„æŠ¤å£«å§“å | VARCHAR | 20 |  |  |  | Nnoâ†’Nname |
    | Nsex | å‘è¯å¤„æŠ¤å£«æ€§åˆ« | BIT | 1 | { 0, 1 } | 0 ä»£è¡¨å¥³ï¼Œ1 ä»£è¡¨ç”· |  | Nnoâ†’Nsex |
    | Nage | å‘è¯å¤„æŠ¤å£«å¹´é¾„ | SMALLINT | 2 | [0, 32767] |  |  | Nnoâ†’Nage |
    | Npwd | å‘è¯å¤„æŠ¤å£«ç™»é™†å¯†ç  | VARCHAR | 20 |  |  |  | Nnoâ†’Npwd |
    | Sno | ä¾›åº”å•†ç¼–å· | VARCHAR | 20 |  |  |  |  |
    | Sname | ä¾›åº”å•†åç§° | VARCHAR | 20 |  |  |  | Snoâ†’Sname |
    | Saddr | ä¾›åº”å•†åœ°å€ | VARCHAR | 60 |  |  |  | Snoâ†’Saddr |
    | Sphone | ä¾›åº”å•†ç”µè¯ | VARCHAR | 20 |  |  |  | Snoâ†’Sphone |
    | PDno | è¯å“ç¼–å· | VARCHAR | 20 |  |  |  |  |
    | PDname | è¯å“åç§° | VARCHAR | 20 |  |  |  | PDnoâ†’PDname |
    | PDlife | è¯å“ä¿è´¨æœŸ | SMALLINT | 2 | [0, 32767] |  |  | PDnoâ†’PDlife |
    | PDbatch | è¯å“æ‰¹æ¬¡ | DATE |  |  |  |  |  |
    | PDnum | è¯å“æ•°é‡ | SMALLINT | 2 | [0, 32767] |  |  | (PDno, PDbatch)â†’PDnum |
    | SAno | è¯å“å…¥åº“åº“å­˜ç®¡ç†å‘˜ç¼–å· | VARCHAR | 20 |  |  | SAno âˆˆ List`<Ano`> | (PDno, PDbatch)â†’SAno |
    | Stime | è¯å“å…¥åº“æ—¶é—´ | DATETIME |  |  |  | Stime â‰¥ PDbatch | (PDno, PDbatch)â†’Stime |
    | DAno | è¯å“é”€æ¯åº“å­˜ç®¡ç†å‘˜ç¼–å· | VARCHAR | 20 |  |  | DAno âˆˆ List`<Ano`> | (PDno, PDbatch)â†’DAno |
    | Dtime | è¯å“é”€æ¯æ—¶é—´ | DATETIME |  |  |  | Dtime â‰¥ Stime | (PDno, PDbatch)â†’Dtime |
    | Pno | å¤„æ–¹ç¼–å· | INT |  | [1, 2147483647] |  |  |  |
    | Pid | ç—…äººèº«ä»½è¯å· | VARCHAR | 20 |  |  |  | Pnoâ†’Pid |
    | Ptime | å¤„æ–¹å¼€å‡ºæ—¶é—´ | DATETIME |  |  |  |  | Pnoâ†’Ptime |
    | Htime | å¤„æ–¹å¤„ç†æ—¶é—´ | DATETIME |  |  |  | Htime â‰¥ Ptime | Pnoâ†’Htime |
    | Pstate | å¤„æ–¹çŠ¶æ€ | BIT | 1 | { 0, 1 } | 0 ä»£è¡¨æœªå¤„ç†ï¼Œ1 ä»£è¡¨å·²å¤„ç† |  | Pnoâ†’Pstate |

* **æ•°æ®ç»“æ„**ï¼š  

    ```
    æ•°æ®ç»“æ„æè¿° = { æ•°æ®ç»“æ„å, å«ä¹‰è¯´æ˜, ç»„æˆ:{æ•°æ®é¡¹æˆ–æ•°æ®ç»“æ„} }
    ```

    | æ•°æ®ç»“æ„å | å«ä¹‰è¯´æ˜ | ç»„æˆ:{æ•°æ®é¡¹æˆ–æ•°æ®ç»“æ„} |
    | --- | --- | --- |
    | Admin | åº“å­˜ç®¡ç†å‘˜ | { Ano, Aname, Asex, Aage, Apwd } |
    | Doctor | åŒ»ç”Ÿ | { Dno, Dname, Dsex, Dage, Dpwd } |
    | Nurse | å‘è¯å¤„æŠ¤å£« | { Nno, Nname, Nsex, Nage, Npwd } |
    | Supplier | ä¾›åº”å•† | { Sno, Sname, Saddr, Sphone } |
    | Drug | è¯å“ | { PDno, PDname, PDlife, PDnum } |
    | InventoryDrug | åº“å­˜è¯å“ | { PDno, PDname, PDlife, PDbatch, PDnum, Sno, SAno, Stime } |
    | DestroyedDrug | å·²é”€æ¯è¯å“ | { PDno, PDname, PDlife, PDbatch, PDnum, Sno, SAno, Stime, DAno, Dtime } |
    | Prescription | å¤„æ–¹ | { Pno, Pid, Dno, Ptime, Nno, Htime, Pstate, List`Drug` } |

* **æ•°æ®æµ**ï¼š  

    ```
    æ•°æ®æµæè¿° = { æ•°æ®æµå, è¯´æ˜, æ•°æ®æµæ¥æº, æ•°æ®æµå»å‘, ç»„æˆ:{æ•°æ®ç»“æ„}, å¹³å‡æµé‡, é«˜å³°æœŸæµé‡ }
    ```

    | æ•°æ®æµå | è¯´æ˜ | æ•°æ®æµæ¥æº | æ•°æ®æµå»å‘ | ç»„æˆ:{æ•°æ®ç»“æ„} | å¹³å‡æµé‡ | é«˜å³°æœŸæµé‡ |
    | --- | --- | ---  | --- | --- | --- | --- |

* **æ•°æ®å­˜å‚¨**ï¼š  

    ```
    æ•°æ®å­˜å‚¨æè¿° = { æ•°æ®å­˜å‚¨å, è¯´æ˜, ç¼–å·, è¾“å…¥çš„æ•°æ®æµ, è¾“å‡ºçš„æ•°æ®æµ, ç»„æˆ:{æ•°æ®ç»“æ„}, æ•°æ®é‡, å­˜å–é¢‘åº¦, å­˜å–æ–¹å¼ }
    ```

    | æ•°æ®å­˜å‚¨å | è¯´æ˜ | ç¼–å· | è¾“å…¥çš„æ•°æ®æµ | è¾“å‡ºçš„æ•°æ®æµ | ç»„æˆ:{æ•°æ®ç»“æ„} | æ•°æ®é‡ | å­˜å–é¢‘åº¦ | å­˜å–æ–¹å¼ |
    | --- | --- | --- | --- | --- | --- | --- | --- | --- |

* **å¤„ç†è¿‡ç¨‹**ï¼š  

    ```
    å¤„ç†è¿‡ç¨‹æè¿° = { å¤„ç†è¿‡ç¨‹å, è¯´æ˜, è¾“å…¥:{æ•°æ®æµ}, è¾“å‡º:{æ•°æ®æµ}, å¤„ç†:{ç®€è¦è¯´æ˜} }
    ```

    | å¤„ç†è¿‡ç¨‹å | è¯´æ˜ | è¾“å…¥:{æ•°æ®æµ} | è¾“å‡º:{æ•°æ®æµ} | å¤„ç†:{ç®€è¦è¯´æ˜} |
    | --- | --- | --- | --- | --- |

å‚è€ƒï¼š  
* [æ±½è½¦ä¿®é…ç®¡ç†ä¿¡æ¯ç³»ç»Ÿè¯¾ç¨‹è®¾è®¡æŠ¥å‘Š](http://ishare.iask.sina.com.cn/f/1H3ghDKS2Oo4.html)  

### æ¦‚å¿µç»“æ„è®¾è®¡  

æ¦‚å¿µç»“æ„è®¾è®¡é€šè¿‡å¯¹ç”¨æˆ·éœ€æ±‚è¿›è¡Œç»¼åˆã€å½’çº³ä¸æŠ½è±¡ï¼Œå½¢æˆä¸€ä¸ªç‹¬ç«‹äºå…·ä½“æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ¦‚å¿µæ¨¡å‹ã€‚  

**è®¾è®¡æè¿°**ï¼šæ¦‚å¿µæ¨¡å‹ (E-R å›¾)ã€æ•°æ®å­—å…¸ã€‚  

**ä»»åŠ¡**ï¼šæ¦‚å¿µç»“æ„è®¾è®¡çš„ç¬¬ä¸€æ­¥å°±æ˜¯å¯¹éœ€æ±‚åˆ†æé˜¶æ®µæ”¶é›†åˆ°çš„æ•°æ®è¿›è¡Œåˆ†ç±»ã€ç»„ç»‡ï¼Œç¡®å®šå®ä½“ã€å®ä½“çš„å±æ€§ã€å®ä½“ä¹‹é—´çš„è”ç³»ç±»å‹ï¼Œå½¢æˆ E-R å›¾ã€‚  

#### E-R å›¾  

![æ¦‚å¿µç»“æ„è®¾è®¡_ERå›¾](./Doc/æ¦‚å¿µç»“æ„è®¾è®¡_ERå›¾.png)  

### é€»è¾‘ç»“æ„è®¾è®¡  

é€»è¾‘ç»“æ„è®¾è®¡æ˜¯å°†æ¦‚å¿µç»“æ„è½¬æ¢ä¸ºæŸä¸ªæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰€æ”¯æŒçš„æ•°æ®æ¨¡å‹ï¼Œå¹¶å¯¹å…¶è¿›è¡Œä¼˜åŒ–ã€‚  

**è®¾è®¡æè¿°**ï¼šæŸç§æ•°æ®æ¨¡å‹ (å…³ç³» / éå…³ç³»)ã€‚  

**ä»»åŠ¡**ï¼šæŠŠæ¦‚å¿µç»“æ„è®¾è®¡é˜¶æ®µè®¾è®¡å¥½çš„åŸºæœ¬ E-R å›¾è½¬æ¢ä¸ºä¸é€‰ç”¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿäº§å“æ‰€æ”¯æŒçš„æ•°æ®æ¨¡å‹ç›¸ç¬¦åˆçš„é€»è¾‘ç»“æ„ã€‚å°†æ¦‚å¿µæ¨¡å‹è½¬æ¢ä¸ºå…¨å±€é€»è¾‘æ¨¡å‹åï¼Œè¿˜åº”è¯¥æ ¹æ®å±€éƒ¨åº”ç”¨éœ€æ±‚ï¼Œç»“åˆå…·ä½“å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ç‰¹ç‚¹è®¾è®¡ç”¨æˆ·çš„å¤–æ¨¡å¼ã€‚  

#### E-R å›¾å‘å…³ç³»æ¨¡å‹çš„è½¬æ¢  

1. ä¸€ä¸ª 1:1 è”ç³»å¯ä»¥è½¬æ¢ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å…³ç³»æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥ä¸ä»»æ„ä¸€ç«¯çš„å…³ç³»æ¨¡å¼åˆå¹¶ã€‚  
2. ä¸€ä¸ª 1:n è”ç³»å¯ä»¥è½¬æ¢ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å…³ç³»æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥ä¸ n ç«¯å¯¹åº”çš„å…³ç³»æ¨¡å¼åˆå¹¶ã€‚  
3. ä¸€ä¸ª m:n è”ç³»è½¬æ¢ä¸ºä¸€ä¸ªå…³ç³»æ¨¡å¼ã€‚  
4. ä¸‰ä¸ªæˆ–ä¸‰ä¸ªä»¥ä¸Šå®ä½“é—´çš„ä¸€ä¸ªå¤šå…ƒè”ç³»å¯ä»¥è½¬æ¢ä¸ºä¸€ä¸ªå…³ç³»æ¨¡å¼ã€‚  
5. å…·æœ‰ç›¸åŒç çš„å…³ç³»æ¨¡å¼å¯ä»¥åˆå¹¶ã€‚  

![é€»è¾‘ç»“æ„è®¾è®¡_å…³ç³»æ•°æ®æ¨¡å‹](./Doc/é€»è¾‘ç»“æ„è®¾è®¡_å…³ç³»æ•°æ®æ¨¡å‹.png)  

#### æ•°æ®æ¨¡å‹çš„ä¼˜åŒ–  

å…³ç³»æ•°æ®æ¨¡å‹çš„ä¼˜åŒ–é€šå¸¸ä»¥è§„èŒƒåŒ–ç†è®ºä¸ºæŒ‡å¯¼ï¼Œæ–¹æ³•ä¸ºï¼š  

1. ç¡®å®šæ•°æ®ä¾èµ–ã€‚æŒ‰éœ€æ±‚åˆ†æé˜¶æ®µæ‰€å¾—åˆ°çš„è¯­ä¹‰ï¼Œåˆ†åˆ«å†™å‡ºæ¯ä¸ªå…³ç³»æ¨¡å¼å†…éƒ¨å„å±æ€§ä¹‹é—´çš„æ•°æ®ä¾èµ–ä»¥åŠä¸åŒå…³ç³»æ¨¡å¼å±æ€§ä¹‹é—´çš„æ•°æ®ä¾èµ–ã€‚  
2. å¯¹äºå„ä¸ªå…³ç³»æ¨¡å¼ä¹‹é—´çš„æ•°æ®ä¾èµ–è¿›è¡Œæå°åŒ–å¤„ç†ï¼Œæ¶ˆé™¤å†—ä½™çš„è”ç³»ã€‚  
3. æŒ‰ç…§æ•°æ®ä¾èµ–çš„ç†è®ºå¯¹å…³ç³»æ¨¡å¼é€ä¸€è¿›è¡Œåˆ†æï¼Œè€ƒå¯Ÿæ˜¯å¦å­˜åœ¨éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€ä¼ é€’å‡½æ•°ä¾èµ–ã€å¤šå€¼ä¾èµ–ç­‰ï¼Œç¡®å®šå„å…³ç³»æ¨¡å¼åˆ†åˆ«å±äºç¬¬å‡ èŒƒå¼ã€‚  
4. æ ¹æ®éœ€æ±‚åˆ†æé˜¶æ®µå¾—åˆ°çš„å¤„ç†è¦æ±‚åˆ†æå¯¹äºè¿™æ ·çš„åº”ç”¨ç¯å¢ƒè¿™äº›æ¨¡å¼æ˜¯å¦åˆé€‚ï¼Œç¡®å®šæ˜¯å¦è¦å¯¹æŸäº›æ¨¡å¼è¿›è¡Œåˆå¹¶æˆ–åˆ†è§£ã€‚å¿…é¡»æ³¨æ„çš„æ˜¯ï¼Œ**å¹¶ä¸æ˜¯è§„èŒƒåŒ–ç¨‹åº¦è¶Šé«˜çš„å…³ç³»å°±è¶Šä¼˜**ã€‚å¯¹äºä¸€ä¸ªå…·ä½“åº”ç”¨æ¥è¯´ï¼Œåˆ°åº•è§„èŒƒåŒ–åˆ°ä»€ä¹ˆç¨‹åº¦éœ€è¦æƒè¡¡å“åº”æ—¶é—´å’Œæ½œåœ¨é—®é¢˜ä¸¤è€…çš„åˆ©å¼Šå†³å®šã€‚  
5. å¯¹å…³ç³»æ¨¡å¼è¿›è¡Œå¿…è¦åˆ†è§£ï¼Œæé«˜æ•°æ®æ“ä½œæ•ˆç‡å’Œå­˜å‚¨ç©ºé—´åˆ©ç”¨ç‡ã€‚å¸¸ç”¨çš„ä¸¤ç§åˆ†è§£æ–¹æ³•æ˜¯æ°´å¹³åˆ†è§£å’Œå‚ç›´åˆ†è§£ã€‚  
    * æ°´å¹³åˆ†è§£ï¼šæŠŠ (åŸºæœ¬) å…³ç³»çš„å…ƒç»„åˆ†ä¸ºè‹¥å¹²å­é›†åˆï¼Œå®šä¹‰æ¯ä¸ªå­é›†ä¸ºä¸€ä¸ªå­å…³ç³»ï¼Œä»¥æé«˜ç³»ç»Ÿçš„æ•ˆç‡ã€‚  
    * å‚ç›´åˆ†è§£ï¼šæŠŠå…³ç³»æ¨¡å¼ R çš„å±æ€§åˆ†è§£ä¸ºè‹¥å¹²å­é›†åˆï¼Œå½¢æˆè‹¥å¹²å­å…³ç³»æ¨¡å¼ã€‚å‚ç›´åˆ†è§£çš„åŸåˆ™æ˜¯ï¼Œå°†ç»å¸¸åœ¨ä¸€èµ·ä½¿ç”¨çš„å±æ€§ä» R ä¸­åˆ†è§£å‡ºæ¥å½¢æˆä¸€ä¸ªå­å…³ç³»æ¨¡å¼ã€‚  

![é€»è¾‘ç»“æ„è®¾è®¡_å…³ç³»æ•°æ®æ¨¡å‹_ä¼˜åŒ–](./Doc/é€»è¾‘ç»“æ„è®¾è®¡_å…³ç³»æ•°æ®æ¨¡å‹_ä¼˜åŒ–.png)  

#### è®¾è®¡ç”¨æˆ·å­æ¨¡å¼  

å®šä¹‰æ•°æ®åº“å…¨å±€æ¨¡å¼ä¸»è¦æ˜¯ä»ç³»ç»Ÿçš„æ—¶é—´æ•ˆç‡ã€ç©ºé—´æ•ˆç‡ã€æ˜“ç»´æŠ¤ç­‰è§’åº¦å‡ºå‘ã€‚  

å®šä¹‰ç”¨æˆ·å¤–æ¨¡å¼æ—¶å¯ä»¥æ³¨é‡è€ƒè™‘ç”¨æˆ·çš„ä¹ æƒ¯ä¸æ–¹ä¾¿ï¼Œå…·ä½“åŒ…æ‹¬ä»¥ä¸‹å‡ æ–¹é¢ï¼š  

1. ä½¿ç”¨æ›´ç¬¦åˆç”¨æˆ·ä¹ æƒ¯çš„åˆ«åã€‚åœ¨åˆå¹¶å„åˆ† E-R å›¾æ—¶æ›¾åšè¿‡æ¶ˆé™¤å‘½åå†²çªçš„å·¥ä½œï¼Œä»¥ä½¿æ•°æ®åº“ç³»ç»Ÿä¸­åŒä¸€å…³ç³»å’Œå±æ€§å…·æœ‰å”¯ä¸€çš„åå­—ã€‚è¿™åœ¨è®¾è®¡æ•°æ®åº“æ•´ä½“ç»“æ„æ—¶æ˜¯éå¸¸å¿…è¦çš„ã€‚ç”¨è§†å›¾æœºåˆ¶å¯ä»¥åœ¨è®¾è®¡ç”¨æˆ·è§†å›¾æ—¶é‡æ–°å®šä¹‰æŸäº›å±æ€§åï¼Œä½¿å…¶ä¸ç”¨æˆ·ä¹ æƒ¯ä¸€è‡´ï¼Œä»¥æ–¹ä¾¿ä½¿ç”¨ã€‚  
2. å¯ä»¥å¯¹ä¸åŒçº§åˆ«çš„ç”¨æˆ·å®šä¹‰ä¸åŒçš„è§†å›¾ï¼Œä»¥ä¿è¯ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚  
3. ç®€åŒ–ç”¨æˆ·å¯¹ç³»ç»Ÿçš„ä½¿ç”¨ã€‚å¦‚æœæŸäº›å±€éƒ¨åº”ç”¨ä¸­ç»å¸¸è¦ä½¿ç”¨æŸäº›å¾ˆå¤æ‚çš„æŸ¥è¯¢ï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ï¼Œå¯ä»¥å°†è¿™äº›å¤æ‚æŸ¥è¯¢å®šä¹‰ä¸ºè§†å›¾ï¼Œç”¨æˆ·æ¯æ¬¡åªå¯¹å®šä¹‰å¥½çš„è§†å›¾è¿›è¡ŒæŸ¥è¯¢ï¼Œå¤§å¤§ç®€åŒ–äº†ç”¨æˆ·çš„ä½¿ç”¨ã€‚  

ä¸€å…±è®¾è®¡äº† 5 ä¸ªç”¨æˆ·å­æ¨¡å¼ (è§†å›¾)â€”â€”`DrugView`ã€`InventoryDrugView`ã€`DestroyedDrugView`ã€`AllPDbatchView`ã€`DrugDoctorView`ï¼Œè¿™ 5 ä¸ªè§†å›¾éƒ½æ˜¯ä¸ºäº†ç®€åŒ–æ•°æ®åº“ç”¨æˆ· (ä¸»è¦æ˜¯åº”ç”¨ç¨‹åºå‘˜) å¯¹ç³»ç»Ÿçš„ä½¿ç”¨ã€‚  

å…¶ä¸­ `InventoryDrugView` å’Œ `DestroyedDrugView` æ˜¯å¯¹å…ˆå‰åšäº†ä¼˜åŒ–åˆ†è§£çš„ä¸¤ä¸ªå…³ç³»æ¨¡å¼çš„é‡æ–°è¿æ¥ï¼›`DrugView` æ˜¯å¯¹å„è¯å“çš„æ‰€æœ‰æ‰¹æ¬¡è¿›è¡Œæ±‡æ€»ç»Ÿè®¡ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®¡ç®—å„è¯å“çš„åº“å­˜æ€»é‡ï¼›`AllPDbatchView` æ˜¯å¯¹æ‰€æœ‰è¯å“æ‰¹æ¬¡ (åŒ…æ‹¬ç°å­˜çš„æ‰¹æ¬¡å’Œå·²é”€æ¯çš„æ‰¹æ¬¡) çš„åˆå¹¶æ±‡æ€»æŸ¥è¯¢ã€‚  

å…¶ä¸­æ¯”è¾ƒå¤æ‚çš„æ˜¯ `DrugDoctorView`ï¼Œå¯¹äºåº”ç”¨ç³»ç»Ÿçš„ä¸‰ç±»äººå‘˜æ¥è¯´ï¼Œåº“å­˜ç®¡ç†å‘˜å’Œå‘è¯å¤„æŠ¤å£«çš„è§†å›¾æ‰€çœ‹åˆ°çš„è¯å“åº“å­˜é‡æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯çœŸå®çš„è¯å“åº“å­˜é‡ï¼Œåªæœ‰åŒ»ç”Ÿçš„è§†å›¾ä¸ä¸€æ ·ï¼ŒåŒ»ç”Ÿæ‰€çœ‹åˆ°çš„è¯å“åº“å­˜é‡åº”è¯¥æ˜¯çœŸå®çš„è¯å“åº“å­˜é‡å‡å»å·²å¼€å‡ºä½†æœªå¤„ç†çš„å¤„æ–¹å½“ä¸­æ‰€åŒ…å«çš„è¯å“åº“å­˜é‡ã€‚  


![é€»è¾‘ç»“æ„è®¾è®¡_ç”¨æˆ·å­æ¨¡å¼_InventoryDrugView](./Doc/é€»è¾‘ç»“æ„è®¾è®¡_ç”¨æˆ·å­æ¨¡å¼_InventoryDrugView.png)  

![é€»è¾‘ç»“æ„è®¾è®¡_ç”¨æˆ·å­æ¨¡å¼_DestroyedDrugView](./Doc/é€»è¾‘ç»“æ„è®¾è®¡_ç”¨æˆ·å­æ¨¡å¼_DestroyedDrugView.png)  

![é€»è¾‘ç»“æ„è®¾è®¡_ç”¨æˆ·å­æ¨¡å¼_DrugView](./Doc/é€»è¾‘ç»“æ„è®¾è®¡_ç”¨æˆ·å­æ¨¡å¼_DrugView.png)  

### ç‰©ç†ç»“æ„è®¾è®¡  

ç‰©ç†ç»“æ„è®¾è®¡æ˜¯ä¸ºé€»è¾‘æ•°æ®æ¨¡å‹é€‰å–ä¸€ä¸ªæœ€é€‚åˆåº”ç”¨ç¯å¢ƒçš„ç‰©ç†ç»“æ„ (åŒ…æ‹¬å­˜å‚¨ç»“æ„å’Œå­˜å–æ–¹æ³•)ã€‚  

**è®¾è®¡æè¿°**ï¼šå­˜å‚¨å®‰æ’ã€å­˜å–æ–¹æ³•é€‰æ‹©ã€å­˜å–è·¯å¾„å»ºç«‹ã€‚  

**å†…å®¹**ï¼šä¸»è¦åŒ…æ‹¬ä¸ºå…³ç³»æ¨¡å¼é€‰æ‹©å­˜å–æ–¹æ³•ï¼Œä»¥åŠè®¾è®¡å…³ç³»ã€ç´¢å¼•ç­‰æ•°æ®åº“æ–‡ä»¶çš„ç‰©ç†å­˜å‚¨ç»“æ„ã€‚  

#### å…³ç³»æ¨¡å¼å­˜å–æ–¹æ³•é€‰æ‹©  

æ•°æ®åº“ç³»ç»Ÿæ˜¯å¤šç”¨æˆ·å…±äº«çš„ç³»ç»Ÿï¼Œå¯¹åŒä¸€ä¸ªå…³ç³»è¦å»ºç«‹å¤šæ¡å­˜å–è·¯å¾„æ‰èƒ½æ»¡è¶³å¤šç”¨æˆ·çš„å¤šç§åº”ç”¨è¦æ±‚ã€‚ç‰©ç†ç»“æ„è®¾è®¡çš„ä»»åŠ¡ä¹‹ä¸€æ˜¯æ ¹æ®å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ”¯æŒçš„å­˜å–æ–¹æ³•ç¡®å®šé€‰æ‹©å“ªäº›å­˜å–æ–¹æ³•ã€‚  

å­˜å–æ–¹æ³•æ˜¯å¿«é€Ÿå­˜å–æ•°æ®åº“ä¸­æ•°æ®çš„æŠ€æœ¯ã€‚æ‰€è°“é€‰æ‹©ç´¢å¼•å­˜å–æ–¹æ³•ï¼Œå®é™…ä¸Šå°±æ˜¯æ ¹æ®åº”ç”¨è¦æ±‚ç¡®å®šå¯¹å…³ç³»çš„å“ªäº›å±æ€§åˆ—å»ºç«‹ç´¢å¼•ã€å“ªäº›å±æ€§åˆ—å»ºç«‹ç»„åˆç´¢å¼•ã€å“ªäº›ç´¢å¼•è¦è®¾è®¡ä¸ºå”¯ä¸€ç´¢å¼•ç­‰ã€‚  

å…³ç³»ä¸Šå®šä¹‰çš„ç´¢å¼•æ•°å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œç³»ç»Ÿä¸ºç»´æŠ¤ç´¢å¼•è¦ä»˜å‡ºä»£ä»·ï¼ŒæŸ¥æ‰¾ç´¢å¼•ä¹Ÿè¦ä»˜å‡ºä»£ä»·ã€‚ä¾‹å¦‚ï¼Œè‹¥ä¸€ä¸ªå…³ç³»çš„æ›´æ–°é¢‘ç‡å¾ˆé«˜ï¼Œè¿™ä¸ªå…³ç³»ä¸Šå®šä¹‰çš„ç´¢å¼•æ•°ä¸èƒ½å¤ªå¤šã€‚å› ä¸ºæ›´æ–°ä¸€ä¸ªå…³ç³»æ—¶ï¼Œå¿…é¡»å¯¹è¿™ä¸ªå…³ç³»ä¸Šæœ‰å…³çš„ç´¢å¼•åšç›¸åº”çš„ä¿®æ”¹ã€‚  

æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸€èˆ¬æä¾›å¤šç§å­˜å–æ–¹æ³•ã€‚å¸¸ç”¨çš„å­˜å–æ–¹æ³•ä¸º **ç´¢å¼•æ–¹æ³•** å’Œ **èšç°‡ (clustering) æ–¹æ³•**ã€‚B+ æ ‘ç´¢å¼•å’Œ hash ç´¢å¼•æ˜¯æ•°æ®åº“ä¸­ç»å…¸çš„å­˜å–æ–¹æ³•ï¼Œä½¿ç”¨æœ€æ™®éã€‚  

* B+ æ ‘ç´¢å¼•å­˜å–æ–¹æ³•çš„é€‰æ‹© (ä¹Ÿæ˜¯ä¸€èˆ¬ç´¢å¼•å­˜å–æ–¹æ³•çš„é€‰æ‹©)ï¼š  

    * å¦‚æœä¸€ä¸ª (æˆ–ä¸€ç»„) å±æ€§ç»å¸¸åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­å‡ºç°ï¼Œåˆ™è€ƒè™‘åœ¨è¿™ä¸ª (æˆ–è¿™ç»„) å±æ€§ä¸Šå»ºç«‹ç´¢å¼• (æˆ–ç»„åˆç´¢å¼•)ã€‚  
    * å¦‚æœä¸€ä¸ªå±æ€§ç»å¸¸ä½œä¸ºæœ€å¤§å€¼å’Œæœ€å°å€¼ç­‰èšé›†å‡½æ•°çš„å‚æ•°ï¼Œåˆ™è€ƒè™‘åœ¨è¿™ä¸ªå±æ€§ä¸Šå»ºç«‹ç´¢å¼•ã€‚  
    * å¦‚æœä¸€ä¸ª (æˆ–ä¸€ç»„) å±æ€§ç»å¸¸åœ¨è¿æ¥æ“ä½œçš„è¿æ¥æ¡ä»¶ä¸­å‡ºç°ï¼Œåˆ™è€ƒè™‘åœ¨è¿™ä¸ª (æˆ–è¿™ç»„) å±æ€§ä¸Šå»ºç«‹ç´¢å¼•ã€‚  

* hash ç´¢å¼•å­˜å–æ–¹æ³•çš„é€‰æ‹©ï¼šå¦‚æœä¸€ä¸ªå…³ç³»çš„å±æ€§ä¸»è¦å‡ºç°åœ¨ç­‰å€¼è¿æ¥æ¡ä»¶ä¸­æˆ–ä¸»è¦å‡ºç°åœ¨ç­‰å€¼æ¯”è¾ƒé€‰æ‹©æ¡ä»¶ä¸­ï¼Œè€Œä¸”æ»¡è¶³ä¸‹åˆ—ä¸¤ä¸ªæ¡ä»¶ä¹‹ä¸€ï¼Œåˆ™æ­¤å…³ç³»å¯ä»¥é€‰æ‹© hash ç´¢å¼•å­˜å–æ–¹æ³•ã€‚  

    * ä¸€ä¸ªå…³ç³»çš„å¤§å°å¯é¢„çŸ¥ï¼Œè€Œä¸”ä¸å˜ã€‚  
    * å…³ç³»çš„å¤§å°åŠ¨æ€æ”¹å˜ï¼Œä½†æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæä¾›äº†åŠ¨æ€ hash å­˜å–æ–¹æ³•ã€‚  

* èšç°‡å­˜å–æ–¹æ³•çš„é€‰æ‹©ï¼š  

    ä¸ºäº†æé«˜æŸä¸ªå±æ€§ (æˆ–å±æ€§ç»„) çš„æŸ¥è¯¢é€Ÿåº¦ï¼ŒæŠŠè¿™ä¸ªæˆ–è¿™äº›å±æ€§ä¸Šå…·æœ‰ç›¸åŒå€¼çš„å…ƒç»„é›†ä¸­å­˜æ”¾åœ¨è¿ç»­çš„ç‰©ç†å—ä¸­ç§°ä¸ºèšç°‡ã€‚è¯¥å±æ€§ (æˆ–å±æ€§ç»„) ç§°ä¸º **èšç°‡ç  (cluster key)**ã€‚èšç°‡åŠŸèƒ½å¯ä»¥å¤§å¤§æé«˜æŒ‰èšç°‡ç è¿›è¡ŒæŸ¥è¯¢çš„æ•ˆç‡ã€‚  

    èšç°‡åŠŸèƒ½ä¸ä½†é€‚ç”¨äºå•ä¸ªå…³ç³»ï¼Œä¹Ÿé€‚ç”¨äºç»å¸¸è¿›è¡Œè¿æ¥æ“ä½œçš„å¤šä¸ªå…³ç³»ã€‚å³æŠŠå¤šä¸ªè¿æ¥å…³ç³»çš„å…ƒç»„æŒ‰è¿æ¥å±æ€§å€¼èšé›†å­˜æ”¾ã€‚è¿™å°±ç›¸å½“äºæŠŠå¤šä¸ªå…³ç³»æŒ‰â€œé¢„è¿æ¥â€çš„å½¢å¼å­˜æ”¾ï¼Œä»è€Œå¤§å¤§æé«˜è¿æ¥æ“ä½œçš„æ•ˆç‡ã€‚  

    ä¸€ä¸ªæ•°æ®åº“å¯ä»¥å»ºç«‹å¤šä¸ªèšç°‡ï¼Œä¸€ä¸ªå…³ç³»åªèƒ½åŠ å…¥ä¸€ä¸ªèšç°‡ã€‚é€‰æ‹©èšç°‡å­˜å–æ–¹æ³•ï¼Œå³ç¡®å®šéœ€è¦å»ºç«‹å¤šå°‘ä¸ªèšç°‡ï¼Œæ¯ä¸ªèšç°‡ä¸­åŒ…æ‹¬å“ªäº›å…³ç³»ã€‚  

    1. é¦–å…ˆè®¾è®¡å€™é€‰èšç°‡ï¼Œä¸€èˆ¬æ¥è¯´ï¼š  

        * å¯¹ç»å¸¸åœ¨ä¸€èµ·è¿›è¡Œè¿æ¥æ“ä½œçš„å…³ç³»å¯ä»¥å»ºç«‹èšç°‡ã€‚  
        * å¦‚æœä¸€ä¸ªå…³ç³»çš„ä¸€ç»„å±æ€§ç»å¸¸å‡ºç°åœ¨ç›¸ç­‰æ¯”è¾ƒæ¡ä»¶ä¸­ï¼Œåˆ™è¯¥å•ä¸ªå…³ç³»å¯å»ºç«‹èšç°‡ã€‚  
        * å¦‚æœä¸€ä¸ªå…³ç³»çš„ä¸€ä¸ª (æˆ–ä¸€ç»„) å±æ€§ä¸Šçš„å€¼é‡å¤ç‡å¾ˆé«˜ï¼Œåˆ™æ­¤å•ä¸ªå…³ç³»å¯å»ºç«‹èšç°‡ã€‚å³å¯¹åº”æ¯ä¸ªèšç°‡ç å€¼çš„å¹³å‡å…ƒç»„æ•°ä¸èƒ½å¤ªå°‘ï¼Œå¤ªå°‘åˆ™èšç°‡çš„æ•ˆæœä¸æ˜æ˜¾ã€‚  

    2. ç„¶åæ£€æŸ¥å€™é€‰èšç°‡ä¸­çš„å…³ç³»ï¼Œå–æ¶ˆå…¶ä¸­ä¸å¿…è¦çš„å…³ç³»ã€‚  

        * ä»èšç°‡ä¸­åˆ é™¤ç»å¸¸è¿›è¡Œå…¨è¡¨æ‰«æçš„å…³ç³»ã€‚  
        * ä»èšç°‡ä¸­åˆ é™¤æ›´æ–°æ“ä½œè¿œå¤šäºè¿æ¥æ“ä½œçš„å…³ç³»ã€‚  
        * ä¸åŒçš„èšç°‡ä¸­å¯èƒ½åŒ…å«ç›¸åŒçš„å…³ç³»ï¼Œä¸€ä¸ªå…³ç³»å¯ä»¥åœ¨æŸä¸€ä¸ªèšç°‡ä¸­ï¼Œä½†ä¸èƒ½åŒæ—¶åŠ å…¥å¤šä¸ªèšç°‡ã€‚è¦ä»è¿™å¤šä¸ªèšç°‡æ–¹æ¡ˆä¸­ (åŒ…æ‹¬ä¸å»ºç«‹èšç°‡) ä¸­é€‰æ‹©ä¸€ä¸ªè¾ƒä¼˜çš„ï¼Œå³åœ¨è¿™ä¸ªèšç°‡ä¸Šè¿è¡Œå„ç§äº‹åŠ¡çš„æ€»ä»£ä»·æœ€å°ã€‚  

ç»¼åˆè€ƒé‡ä¹‹åï¼Œæˆ‘ä»¬è®¤ä¸ºä¸å»ºç«‹ç´¢å¼•å’Œèšç°‡çš„è¯è¿è¡Œå„ç§äº‹åŠ¡çš„æ€»ä»£ä»·åè€Œæœ€å°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å»ºç«‹ç´¢å¼•å’Œèšç°‡ã€‚  

### æ•°æ®åº“å®æ–½  

åœ¨æ•°æ®åº“å®æ–½é˜¶æ®µï¼Œè®¾è®¡äººå‘˜è¿ç”¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæä¾›çš„æ•°æ®åº“è¯­è¨€åŠå…¶å®¿ä¸»è¯­è¨€ï¼Œæ ¹æ®é€»è¾‘è®¾è®¡å’Œç‰©ç†è®¾è®¡çš„ç»“æœå»ºç«‹æ•°æ®åº“ï¼Œç¼–å†™ä¸è°ƒè¯•åº”ç”¨ç¨‹åºï¼Œç»„ç»‡æ•°æ®å…¥åº“ï¼Œå¹¶è¿›è¡Œè¯•è¿è¡Œã€‚  

**è®¾è®¡æè¿°**ï¼šåˆ›å»ºæ•°æ®åº“æ¨¡å¼ã€è£…å…¥æ•°æ®ã€æ•°æ®åº“è¯•è¿è¡Œã€‚  

* [preDB.sql](./preDB.sql)  

#### å»ºç«‹æ•°æ®åº“ï¼š  

```sql
USE master;

IF EXISTS (SELECT *
            FROM sysdatabases
            WHERE name = 'DIMS')
BEGIN
    DROP DATABASE DIMS;
END;

CREATE DATABASE DIMS;

IF NOT EXISTS (SELECT *
                FROM syslogins
                WHERE name = 'dba')
BEGIN
    CREATE LOGIN dba WITH PASSWORD = 'abcd1234@', DEFAULT_DATABASE = DIMS;
END

GO

USE DIMS;

CREATE USER dba FOR LOGIN dba WITH DEFAULT_SCHEMA = dbo;

EXEC sp_addrolemember 'db_owner', 'dba';
```

#### å»ºç«‹åŸºæœ¬è¡¨ï¼š  

```sql
CREATE TABLE Admin( -- åº“å­˜ç®¡ç†å‘˜
    Ano VARCHAR(20) PRIMARY KEY, -- ç¼–å·
    Aname VARCHAR(20) NOT NULL, -- å§“å
    Asex BIT NOT NULL DEFAULT 1, -- æ€§åˆ« (1 ä¸ºç”·ï¼Œ0 ä¸ºå¥³)
    Aage SMALLINT CHECK (Aage >= 0) NOT NULL, -- å¹´é¾„
    Apwd VARCHAR(20) NOT NULL DEFAULT '00000000' -- ç™»é™†å¯†ç 
);
```

```sql
CREATE TABLE Doctor( -- åŒ»ç”Ÿ
    Dno VARCHAR(20) PRIMARY KEY, -- ç¼–å·
    Dname VARCHAR(20) NOT NULL, -- å§“å
    Dsex BIT NOT NULL DEFAULT 1, -- æ€§åˆ« (1 ä¸ºç”·ï¼Œ0 ä¸ºå¥³)
    Dage SMALLINT CHECK (Dage >= 0) NOT NULL, -- å¹´é¾„
    Dpwd VARCHAR(20) NOT NULL DEFAULT '00000000' -- ç™»é™†å¯†ç 
);
```

```sql
CREATE TABLE Nurse( -- å‘è¯å¤„æŠ¤å£«
    Nno VARCHAR(20) PRIMARY KEY, -- ç¼–å·
    Nname VARCHAR(20) NOT NULL, -- å§“å
    Nsex BIT NOT NULL DEFAULT 1, -- æ€§åˆ« (1 ä¸ºç”·ï¼Œ0 ä¸ºå¥³)
    Nage SMALLINT CHECK (Nage >= 0) NOT NULL, -- å¹´é¾„
    Npwd VARCHAR(20) NOT NULL DEFAULT '00000000' -- ç™»é™†å¯†ç 
);
```

```sql
CREATE TABLE Supplier( -- ä¾›åº”å•†
    Sno VARCHAR(20) PRIMARY KEY, -- ç¼–å·
    Sname VARCHAR(60) NOT NULL, -- åç§°
    Saddr VARCHAR(60) NOT NULL, -- åœ°å€
    Sphone VARCHAR(20) NOT NULL -- ç”µè¯
);
```

```sql
CREATE TABLE Drug( -- è¯å“
    PDno VARCHAR(20) PRIMARY KEY, -- ç¼–å·
    PDname VARCHAR(20) NOT NULL, -- åç§°
    PDlife SMALLINT CHECK (PDlife >= 0) NOT NULL -- ä¿è´¨æœŸ (å¤©æ•°)
);
```

```sql
CREATE TABLE InventoryDrug( -- åº“å­˜è¯å“
    PDno VARCHAR(20), -- ç¼–å·
    PDbatch DATE, -- æ‰¹æ¬¡
    PDnum SMALLINT CHECK (PDnum >= 0) NOT NULL, -- æ•°é‡
    Sno VARCHAR(20) NOT NULL, -- ä¾›åº”å•†ç¼–å·
    SAno VARCHAR(20) NOT NULL, -- å…¥åº“åº“å­˜ç®¡ç†å‘˜ç¼–å·
    Stime DATETIME NOT NULL DEFAULT GETDATE(), -- å…¥åº“æ—¶é—´
    PRIMARY KEY(PDno, PDbatch),
    FOREIGN KEY (PDno) REFERENCES Drug(PDno),
    FOREIGN KEY (Sno) REFERENCES Supplier(Sno),
    FOREIGN KEY (SAno) REFERENCES Admin(Ano),
    CHECK (DATEDIFF(DAY, PDbatch, Stime) >= 0)
);
```

```sql
CREATE TABLE DestroyedDrug( -- å·²é”€æ¯è¯å“
    PDno VARCHAR(20), -- ç¼–å·
    PDbatch DATE, -- æ‰¹æ¬¡
    PDnum SMALLINT CHECK (PDnum >= 0) NOT NULL, -- æ•°é‡
    Sno VARCHAR(20) NOT NULL, -- ä¾›åº”å•†ç¼–å·
    SAno VARCHAR(20) NOT NULL, -- å…¥åº“åº“å­˜ç®¡ç†å‘˜ç¼–å·
    Stime DATETIME NOT NULL, -- å…¥åº“æ—¶é—´
    DAno VARCHAR(20) NOT NULL, -- é”€æ¯åº“å­˜ç®¡ç†å‘˜ç¼–å·
    Dtime DATETIME NOT NULL DEFAULT GETDATE(), -- é”€æ¯æ—¶é—´
    PRIMARY KEY(PDno, PDbatch),
    FOREIGN KEY (PDno) REFERENCES Drug(PDno),
    FOREIGN KEY (Sno) REFERENCES Supplier(Sno),
    FOREIGN KEY (SAno) REFERENCES Admin(Ano),
    FOREIGN KEy (DAno) REFERENCES Admin(Ano),
    CHECK (DATEDIFF(DAY, PDbatch, Stime) >= 0 AND DATEDIFF(DAY, Stime, Dtime) >= 0)
);
```

```sql
CREATE TABLE Prescription( -- å¤„æ–¹
    Pno INT PRIMARY KEY IDENTITY (1, 1), -- ç¼–å·
    Pid VARCHAR(20) NOT NULL, -- ç—…äººèº«ä»½è¯å·ç 
    Dno VARCHAR(20) NOT NULL, -- å¼€å‡ºåŒ»ç”Ÿç¼–å·
    Ptime DATETIME NOT NULL, -- å¼€å‡ºæ—¶é—´
    Nno VARCHAR(20), -- å¤„ç†æŠ¤å£«ç¼–å·
    Htime DATETIME, -- å¤„ç†æ—¶é—´
    Pstate BIT NOT NULL DEFAULT 0, -- çŠ¶æ€ (1 ä¸ºå·²å¤„ç†ï¼Œ0 ä¸ºæœªå¤„ç†)
    FOREIGN KEY (Dno) REFERENCES Doctor(Dno),
    FOREIGN KEY (Nno) REFERENCES Nurse(Nno),
    CHECK (DATEDIFF(DAY, Ptime, Htime) >= 0)
);
```

```sql
CREATE TABLE PID( -- å¤„æ–¹åŒ…å«çš„è¯å“
    Pno INT, -- å¤„æ–¹ç¼–å·
    PDno VARCHAR(20), -- è¯å“ç¼–å·
    PDnum SMALLINT CHECK (PDnum >= 0) NOT NULL, -- è¯å“æ•°é‡
    PRIMARY KEY (Pno, PDno),
    FOREIGN KEY (Pno) REFERENCES Prescription(Pno) ON DELETE CASCADE,
    FOREIGN KEY (PDno) REFERENCES Drug(PDno)
);
```

#### å»ºç«‹è§†å›¾ï¼š  

```sql
CREATE VIEW DrugView
AS
SELECT d.PDno, d.PDname, d.PDlife, COALESCE(SUM(i.PDnum), 0) AS PDnum
FROM Drug d LEFT OUTER JOIN InventoryDrug i ON d.PDno = i.PDno
GROUP BY d.PDno, d.PDname, d.PDlife;
```

```sql
CREATE VIEW InventoryDrugView
AS
SELECT d.PDno, d.PDname, d.PDlife, i.PDbatch, i.PDnum, i.Sno, i.SAno, i.Stime,
        (d.PDlife - DATEDIFF(DAY, i.PDbatch, GETDATE())) AS Rdays
FROM Drug d, InventoryDrug i
WHERE d.PDno = i.PDno;
```

```sql
CREATE VIEW DestroyedDrugView
AS
SELECT d.PDno, d.PDname, d.PDlife, dd.PDbatch, dd.PDnum, dd.Sno, dd.SAno, dd.Stime, dd.DAno, dd.Dtime
FROM Drug d, DestroyedDrug dd
WHERE d.PDno = dd.PDno;
```

```sql
CREATE VIEW AllPDbatchView
AS
SELECT PDno, PDname, PDlife, PDbatch, PDnum, Sno, SAno, Stime, null AS DAno, null AS Dtime, Rdays
FROM InventoryDrugView
UNION
SELECT PDno, PDname, PDlife, PDbatch, PDnum, Sno, SAno, Stime, DAno, Dtime, null AS Rdays
FROM DestroyedDrugView;
```

```sql
CREATE VIEW DrugDoctorView
AS
SELECT d.PDno, d.PDname, d.PDlife, (d.PDnum - (SELECT COALESCE(SUM(PID.PDnum), 0)
                                                FROM Prescription p, PID
                                                WHERE p.Pno = PID.Pno AND p.Pstate = 0
                                                        AND PID.PDno = d.PDno)) AS PDnum
FROM DrugView d;
```

#### å»ºç«‹å­˜å‚¨è¿‡ç¨‹ï¼š  

```sql
CREATE PROCEDURE DestroyInventoryDrug @PDno VARCHAR(20), @PDbatch DATE,
                                        @DAno VARCHAR(20), @Dtime DATETIME, @returnValue SMALLINT OUTPUT
AS
SET XACT_ABORT ON
BEGIN TRAN
DECLARE @PDnum SMALLINT;
DECLARE @Sno VARCHAR(20);
DECLARE @SAno VARCHAR(20);
DECLARE @Stime DATETIME;
SET @returnValue = 0;
SELECT @PDnum = PDnum, @Sno = Sno, @SAno = SAno, @Stime = Stime
FROM InventoryDrug
WHERE PDno = @PDno AND PDbatch = @PDbatch;
SET @returnValue = @returnValue + @@error;
INSERT INTO DestroyedDrug(PDno, PDbatch, PDnum, Sno, SAno, Stime, DAno, Dtime)
    VALUES(@PDno, @PDbatch, @PDnum, @Sno, @SAno, @Stime, @DAno, @Dtime);
SET @returnValue = @returnValue + @@error;
DELETE FROM InventoryDrug
WHERE PDno = @PDno AND PDbatch = @PDbatch;
SET @returnValue = @returnValue + @@error;
COMMIT TRAN
```

```sql
CREATE PROCEDURE HandleRx @Pno INT, @Nno VARCHAR(20), @Htime DATETIME, @returnValue SMALLINT OUTPUT
AS
SET XACT_ABORT ON
BEGIN TRAN
DECLARE @RxDrugPDno VARCHAR(20);
DECLARE @RxDrugPDnum SMALLINT;
DECLARE @BatchPDbatch DATE;
DECLARE @BatchPDnum SMALLINT;
SET @returnValue = 0;
DECLARE RxDrugs CURSOR FOR SELECT PDno, PDnum
                            FROM PID
                            WHERE Pno = @Pno;
OPEN RxDrugs;
FETCH NEXT FROM RxDrugs INTO @RxDrugPDno, @RxDrugPDnum;
WHILE @@FETCH_STATUS = 0
BEGIN
    DECLARE Batches CURSOR FOR SELECT PDbatch, PDnum
                                FROM InventoryDrug
                                WHERE PDno = @RxDrugPDno
                                ORDER BY PDbatch ASC;
    OPEN Batches;
    FETCH NEXT FROM Batches INTO @BatchPDbatch, @BatchPDnum;
    WHILE @@FETCH_STATUS = 0 AND @RxDrugPDnum > 0
    BEGIN
        IF @BatchPDnum >= @RxDrugPDnum
        BEGIN
            UPDATE InventoryDrug
            SET PDnum = (PDnum - @RxDrugPDnum)
            WHERE PDno = @RxDrugPDno AND PDbatch = @BatchPDbatch;
            SET @returnValue = @returnValue + @@error;
            SET @RxDrugPDnum = 0;
        END
        ELSE
        BEGIN
            SET @RxDrugPDnum = @RxDrugPDnum - @BatchPDnum;
            UPDATE InventoryDrug
            SET PDnum = 0
            WHERE PDno = @RxDrugPDno AND PDbatch = @BatchPDbatch;
            SET @returnValue = @returnValue + @@error;
        END
        FETCH NEXT FROM Batches INTO @BatchPDbatch, @BatchPDnum;
    END
    CLOSE Batches
    DEALLOCATE Batches
    FETCH NEXT FROM RxDrugs INTO @RxDrugPDno, @RxDrugPDnum;
END
CLOSE RxDrugs
DEALLOCATE RxDrugs
SET @returnValue = @returnValue + @@error;
UPDATE Prescription
SET Nno = @Nno, Htime = @Htime, Pstate = 1
WHERE Pno = @Pno;
SET @returnValue = @returnValue + @@error;
COMMIT TRAN
```

### æ•°æ®åº“è¿è¡Œå’Œç»´æŠ¤  

**è®¾è®¡æè¿°**ï¼šæ€§èƒ½ç›‘æµ‹ã€è½¬å‚¨ / æ¢å¤ã€æ•°æ®åº“é‡ç»„å’Œé‡æ„ã€‚  

## åº”ç”¨ç³»ç»Ÿè®¾è®¡  

å‚è€ƒï¼š  

* [B/Sã€C/S æ¨¡å¼ä»‹ç»](https://blog.csdn.net/wang404838334/article/details/78449164)  
* [SSM æ¡†æ¶ä»‹ç»](https://blog.csdn.net/jack_xia_2018/article/details/83540199)  

### æŠ€æœ¯é€‰å‹  

* ç½‘ç»œæ¶æ„ï¼šB/S æ¨¡å¼ (æ˜“å¼€å‘ã€æ˜“ç»´æŠ¤ã€æ˜“æ‰©å±•)  
* å‰ç«¯ç®¡ç†é¡µé¢æ¨¡æ¿ï¼šåŸºäº Bootstrap å‰ç«¯æ¡†æ¶çš„ ACE ç®¡ç†ç³»ç»Ÿé¡µé¢æ¨¡æ¿  
* æ ¸å¿ƒæ¡†æ¶ï¼šä½¿ç”¨ Spring Boot æ¥æ„å»ºæ•´ä¸ªé¡¹ç›®  
* è§†å›¾æ¡†æ¶ï¼šä½¿ç”¨ Spring MVC æ¥æ„å»ºè§†å›¾å±‚  
* æŒä¹…åŒ–æ¡†æ¶ï¼šä½¿ç”¨ MyBatis æ¥åš ORM å…³ç³»æ˜ å°„ (å®¹æ˜“æŒæ¡)  
* æ•°æ®åº“è¿æ¥æ± ï¼šDBCP æ•°æ®åº“è¿æ¥æ±   
* WEB å®¹å™¨ï¼šTomcat  
* å­˜å‚¨æ•°æ®åº“ï¼šSQL Server æ•°æ®åº“ (æœ€ç†Ÿæ‚‰)  
* ç”Ÿäº§æœåŠ¡ç¯å¢ƒï¼šWindows 10 (æœ€ç†Ÿæ‚‰)  

### è¯¦ç»†è®¾è®¡  

ä¸ä¼šç”» ğŸ˜­ã€‚  

#### é¡µé¢æµç¨‹å›¾  

![è¯¦ç»†è®¾è®¡_é¡µé¢æµç¨‹å›¾_User](./Doc/è¯¦ç»†è®¾è®¡_é¡µé¢æµç¨‹å›¾_User.png)  

![è¯¦ç»†è®¾è®¡_é¡µé¢æµç¨‹å›¾_Admin](./Doc/è¯¦ç»†è®¾è®¡_é¡µé¢æµç¨‹å›¾_Admin.png)  

![è¯¦ç»†è®¾è®¡_é¡µé¢æµç¨‹å›¾_Doctor](./Doc/è¯¦ç»†è®¾è®¡_é¡µé¢æµç¨‹å›¾_Doctor.png)  

![è¯¦ç»†è®¾è®¡_é¡µé¢æµç¨‹å›¾_Nurse](./Doc/è¯¦ç»†è®¾è®¡_é¡µé¢æµç¨‹å›¾_Nurse.png)  

å‚è€ƒï¼š  

* [æ·±å…¥æµ…å‡ºä¸ºä½ è§£è¯»å››ç±»ã€Œæµç¨‹å›¾ã€ï¼Œé™„æ‘©æ‹œ / OFO æ¡ˆä¾‹åˆ†æ](http://www.chanpin100.com/article/105363)  
* [è°ˆè°ˆé¡µé¢æµç¨‹å›¾ (é™„æ¡ˆä¾‹)](http://www.woshipm.com/pmd/27239.html)  

#### æ—¶åºå›¾  

![è¯¦ç»†è®¾è®¡_æ—¶åºå›¾_User](./Doc/è¯¦ç»†è®¾è®¡_æ—¶åºå›¾_User.png)  

å‚è€ƒï¼š  

* [UML ä¹‹æ—¶åºå›¾](https://www.cnblogs.com/gd-luojialin/p/10356740.html)  

### ç¯å¢ƒå‡†å¤‡  

#### é…ç½® Java ç¯å¢ƒ  

1. ä¸‹è½½ JDK å®‰è£…åŒ…ï¼š
   * [Java SE å®˜ç½‘](https://www.oracle.com/technetwork/java/javase/overview/index.html)  
   * [Java SE å®˜ç½‘ä¸‹è½½é¡µé¢](https://www.oracle.com/technetwork/java/javase/downloads/index.html)  
2. é…ç½®ç¯å¢ƒå˜é‡ï¼š  

    | å˜é‡ | å€¼ |
    | --- | --- |
    | JAVA_HOME | C:\Program Files\Java\jdk1.8.0_231 |
    | JRE_HOME | C:\Program Files\Java\jre1.8.0_231 |
    | Path | ;%JAVA_HOME%\bin |

#### å®‰è£… Eclipse IDE for Enterprise Java Developers  

* [Eclipse å®˜ç½‘](https://www.eclipse.org/)  
* [Eclipse å®˜ç½‘ Installer ä¸‹è½½é¡µé¢](https://www.eclipse.org/downloads/)  

#### é…ç½® Tomcat ç¯å¢ƒ  

1. ä»å®˜ç½‘ä¸‹è½½ç›¸åº”çš„ Tomcat Binary Distributions å®‰è£…åŒ…æ–‡ä»¶ `32-bit/64-bit Windows Service Installer`ã€‚  
    * [Tomcat å®˜ç½‘](http://tomcat.apache.org/)  
    * [Tomcat 9 å®˜ç½‘ä¸‹è½½é¡µé¢](https://tomcat.apache.org/download-90.cgi)  
2. åŒå‡»è¿è¡Œä¸‹è½½çš„å®‰è£…æ–‡ä»¶ï¼ŒæŒ‰ç…§æç¤ºä¸€æ­¥ä¸€æ­¥å®‰è£…å¹¶é…ç½®ã€‚  
3. é…ç½®ç¯å¢ƒå˜é‡ï¼š  

    | å˜é‡ | å€¼ |
    | --- | --- |
    | TOMCAT_HOME | C:\Program Files\Apache Software Foundation\Tomcat 9.0 |
    | CATALINA_HOME | C:\Program Files\Apache Software Foundation\Tomcat 9.0 |
    | Path | ;%TOMCAT_HOME%\bin;%CATALINA_HOME%\lib |

#### åœ¨ Eclipse ä¸­é…ç½® Tomcat Server  

å‚è€ƒï¼š  

* [å®‰è£… Eclipseï¼Œé…ç½® Tomcat](https://www.cnblogs.com/greenteaone/p/7929571.html)  
* [Eclipse ç¯å¢ƒä¸‹å¦‚ä½•é…ç½® Tomcatï¼Œå¹¶ä¸”æŠŠé¡¹ç›®éƒ¨ç½²åˆ° Tomcat æœåŠ¡å™¨ä¸Š](https://blog.csdn.net/weixin_41704733/article/details/79871950)  

### åˆ›å»ºä¸€ä¸ªæ–°çš„ Dynamic Web é¡¹ç›®  

æ–°å»ºä¸€ä¸ªåä¸º `DIMS` çš„ `Dynamic Web Project`ï¼Œ`Target runtime` é€‰æ‹©ä¸Šä¸€æ­¥åœ¨ Eclipse å½“ä¸­é…ç½®çš„ `Apache Tomcat v9.0`ï¼Œ`Dynamic web module version` é€‰æ‹©æœ€æ–°ç‰ˆæœ¬ï¼Œ`Configuration` é€‰æ‹© `Default Configuration for Apache Tomcat v9.0`ï¼Œå…¶å®ƒé€‰é¡¹ä¸ä½œæ›´æ”¹ï¼Œç‚¹å‡» `Next`ã€‚  

å°† `Default output folder` çš„å€¼æ”¹ä¸º `WebContent\WEB-INF\classes`ï¼Œç‚¹å‡» `Next`ã€‚  

å‹¾é€‰ `Generate web.xml deployment descriptor`ï¼Œç‚¹å‡» `Finish`ã€‚  

æµ‹è¯•é¡¹ç›®æ˜¯å¦å¯ä»¥å‘å¸ƒæˆåŠŸï¼Œå‚è€ƒï¼š  

* [Eclipse ç¯å¢ƒä¸‹å¦‚ä½•é…ç½® Tomcatï¼Œå¹¶ä¸”æŠŠé¡¹ç›®éƒ¨ç½²åˆ° Tomcat æœåŠ¡å™¨ä¸Š](https://blog.csdn.net/weixin_41704733/article/details/79871950)  

åç»­éœ€è¦å¯¼å…¥çš„ jar åŒ…éƒ½å¤åˆ¶åˆ°é¡¹ç›®çš„ `WebContent\WEB-INF\lib` ç›®å½•å½“ä¸­æ¥ã€‚  

### é›†æˆ Spring å’Œ SpingMVC  

* [Spring å®˜ç½‘](https://spring.io/)  
* [Spring å‘è¡Œç‰ˆçš„ä¸‹è½½åœ°å€](https://repo.spring.io/release/org/springframework/spring/)  
* [Spring å‘è¡Œç‰ˆ v5.2.1 çš„ä¸‹è½½åœ°å€](https://repo.spring.io/release/org/springframework/spring/5.2.1.RELEASE/)  

ä¸‹è½½ `spring-5.2.1.RELEASE-dist.zip` å¹¶è§£å‹ã€‚  

#### å¯¼å…¥ Spring çš„ jar åŒ…  

å°† `spring-5.2.1.RELEASE-dist.zip` è§£å‹è·¯å¾„çš„ `libs` ç›®å½•ä¸‹çš„ä¸€éƒ¨åˆ† jar åŒ…å¤åˆ¶åˆ°é¡¹ç›®çš„ `WebContent\WEB-INF\lib` ç›®å½•å½“ä¸­æ¥ï¼Œéœ€è¦çš„ jar åŒ…å¦‚ä¸‹ï¼š  

* spring-aop-5.2.1.RELEASE.jar  
* spring-aspects-5.2.1.RELEASE.jar  
* spring-beans-5.2.1.RELEASE.jar  
* spring-context-5.2.1.RELEASE.jar  
* spring-core-5.2.1.RELEASE.jar  
* spring-expression-5.2.1.RELEASE.jar  
* spring-jdbc-5.2.1.RELEASE.jar  
* spring-test-5.2.1.RELEASE.jar  
* spring-tx-5.2.1.RELEASE.jar  
* spring-web-5.2.1.RELEASE.jar  

#### å¯¼å…¥ SpringMVC çš„ jar åŒ…  

å°† `spring-5.2.1.RELEASE-dist.zip` è§£å‹è·¯å¾„çš„ `libs` ç›®å½•ä¸‹çš„ä¸€éƒ¨åˆ† jar åŒ…å¤åˆ¶åˆ°é¡¹ç›®çš„ `WebContent\WEB-INF\lib` ç›®å½•å½“ä¸­æ¥ï¼Œéœ€è¦çš„ jar åŒ…å¦‚ä¸‹ï¼š  

* spring-webmvc-5.2.1.RELEASE.jar  

#### å¯¼å…¥ Apache Commons çš„ jar åŒ…  

* [Apache Commons å®˜ç½‘](https://commons.apache.org/index.html)  
* [Apache Commons å®˜ç½‘ jar åŒ…ä¸‹è½½åœ°å€](https://commons.apache.org/downloads/index.html)  

éœ€è¦å¯¼å…¥çš„ jar åŒ…ï¼š  

* [commons-dbcp2-2.7.0.jar](https://commons.apache.org/proper/commons-dbcp/download_dbcp.cgi)  
* [commons-io-2.6.jar](https://commons.apache.org/proper/commons-io/download_io.cgi)  
* [commons-logging-1.2.jar](https://commons.apache.org/proper/commons-logging/download_logging.cgi)  
* [commons-pool2-2.7.0.jar](https://commons.apache.org/proper/commons-pool/download_pool.cgi)  

å‚è€ƒï¼š  

* [ä¸€ç¯‡å…³äº Apache Commons ç±»åº“çš„è¯¦è§£](https://blog.csdn.net/wiker_yong/article/details/23551209)  
* [Apache Commons å·¥å…·åŒ…](https://blog.csdn.net/qq_34520606/article/details/78431802)  

#### å¯¼å…¥å…¶å®ƒåŸºç¡€ jar åŒ…  

* [aspectjweaver-1.9.4.jar](https://mvnrepository.com/artifact/org.aspectj/aspectjweaver)  
* [com.springsource.org.aopalliance-1.0.0.jar](https://mvnrepository.com/artifact/org.aopalliance/com.springsource.org.aopalliance)  
* [jackson-annotations-2.10.0.jar](https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations)  
* [jackson-core-2.10.0.jar](https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core)  
* [jackson-databind-2.10.0.jar](https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind)  

å‚è€ƒï¼š  

* [com.springsource.*.xx.jar å’ŒåŒå *.xx.jar æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://blog.csdn.net/snower08/article/details/83353064)  

#### é…ç½® Spring  

åœ¨é¡¹ç›®çš„ `Java Resources` é¡¹ä¸­æ–°å»ºä¸€ä¸ªåä¸º `resource` çš„ 'source folder'ï¼Œç„¶ååœ¨å…¶ä¸‹æ–°å»ºä¸¤ä¸ª XML æ–‡ä»¶ã€‚  

applicationContext.xmlï¼š  

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context.xsd">
</beans>
```

#### é…ç½® SpringMVC  

applicationContext-mvc.xmlï¼š  

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context.xsd
                           http://www.springframework.org/schema/mvc
                           http://www.springframework.org/schema/mvc/spring-mvc.xsd">
    <!-- mvc é™æ€èµ„æºæ”¾è¡Œ â€”â€” å…è®¸è®¿é—®å›¾ç‰‡ç­‰é™æ€èµ„æº -->
    <mvc:default-servlet-handler/>
    
    <!-- mvc æ”¯æŒæ³¨è§£ Controller -->
    <context:annotation-config/>
    <mvc:annotation-driven/>
    
    <!-- è®¾ç½®æ‰«æåŒ…çš„è·¯å¾„ Controller -->
    <context:component-scan base-package="com.dims.web.controller"/>
    
    <!-- è§†å›¾è§£æå™¨ -->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <!-- é…ç½®å‰ç¼€å’Œåç¼€ -->
        <property name="prefix">
            <value>/WEB-INF/views/</value>
        </property>
        <property name="suffix">
            <value>.jsp</value>
        </property>
    </bean>
</beans>
```

### é…ç½® web.xml  

åœ¨é¡¹ç›®çš„ `WebContent\WEB-INF\` ç›®å½•ä¸‹æ‰¾åˆ° web.xml æ–‡ä»¶ï¼Œè¿›è¡Œé…ç½®ï¼š  

web.xmlï¼š  

```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
                             http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         id="WebApp_ID" version="4.0">
    <display-name>DIMS</display-name>
    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>
    
    <!-- è§£å†³ä¹±ç é—®é¢˜ -->
    <filter>
        <filter-name>CharacterEncodingFilter</filter-name>
        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>
        <init-param>
            <param-name>encoding</param-name>
            <param-value>utf-8</param-value>
        </init-param>
    </filter>
    
    <filter-mapping>
        <filter-name>CharacterEncodingFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>
    
    <!-- åŠ è½½ spring é…ç½®æ–‡ä»¶ -->
    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:applicationContext.xml</param-value>
    </context-param>
    
    <!-- å¯åŠ¨çš„æ—¶å€™åŠ è½½ spring çš„é…ç½®æ–‡ä»¶ -->
    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>
    
    <!-- å¯åŠ¨çš„æ—¶å€™åŠ è½½ springmvc çš„é…ç½®æ–‡ä»¶ -->
    <servlet>
        <servlet-name>springmvc</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <init-param>
            <param-name>contextConfigLocation</param-name>
            <param-value>classpath:applicationContext-mvc.xml</param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>springmvc</servlet-name>
        <url-pattern>/</url-pattern>
    </servlet-mapping>
</web-app>
```

### é›†æˆ Spring å’Œ MyBatis  

#### å¯¼å…¥ MyBatis çš„ jar åŒ…  

* [MyBatis å®˜ç½‘](https://blog.mybatis.org/)  
* [MyBatis v3 å®˜ç½‘](https://mybatis.org/mybatis-3/zh/index.html)  
* [MyBatis v3 GitHub é¡¹ç›®](https://github.com/mybatis/mybatis-3/)  
* [MyBatis-Spring å®˜ç½‘](http://mybatis.org/spring/zh/index.html)  

* [MyBatis v3 GitHub é¡¹ç›® jar åŒ…ä¸‹è½½é¡µé¢](https://github.com/mybatis/mybatis-3/releases)  
* [MyBatis-Spring jar åŒ…ä¸‹è½½é¡µé¢](https://mvnrepository.com/artifact/org.mybatis/mybatis-spring/2.0.3)  

éœ€è¦å¯¼å…¥çš„ jar åŒ…ï¼š  

* asm-7.0.jar  
* cglib-3.2.10.jar  
* javassist-3.24.1-GA.jar  
* log4j-1.2.17.jar  
* mybatis-3.5.3.jar  
* mybatis-spring-2.0.3.jar  
* slf4j-api-1.7.26.jar  
* slf4j-log4j12-1.7.26.jar  

é™¤æ­¤ä¹‹å¤–è¿˜éœ€è¦å¯¼å…¥ SQL Server çš„ JDBC Driver jar åŒ…ï¼š  

* [mssql-jdbc-7.4.1.jre8.jar](https://docs.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15)  

#### é…ç½® MyBatis  

åœ¨ `resource` ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªåä¸º `jdbc.properties` çš„æ–‡ä»¶ï¼š  

jdbc.propertiesï¼š  

```
jdbc.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver
jdbc.url=jdbc:sqlserver://localhost:1433;databaseName=DIMS
jdbc.username=dba
jdbc.password=abcd1234@
```

åœ¨ Spring çš„é…ç½®æ–‡ä»¶å½“ä¸­ï¼Œé…ç½® MyBatisï¼š  

applicationContext.xmlï¼š  

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context.xsd">
    <!-- jdbc.properties â†’ dataSource â†’ sqlSessionFactory â†’ mapper â†’ service â†’ action -->
    
    <!-- jdbc.properties åŠ è½½ JDBC é…ç½®æ–‡ä»¶ -->
    <context:property-placeholder location="classpath:jdbc.properties" />
    
    <!-- dataSource é…ç½®æ•°æ®æº (è¿æ¥æ± ) -->
    <bean id="dataSource" class="org.apache.commons.dbcp2.BasicDataSource" destroy-method="close">
        <!-- ä¾èµ–æ³¨å…¥è¿æ¥æ± éœ€è¦çš„å±æ€§ -->
        <property name="driverClassName" value="${jdbc.driverClassName}" />
        <property name="url" value="${jdbc.url}" />
        <property name="username" value="${jdbc.username}" />
        <property name="password" value="${jdbc.password}" />
    </bean>
    
    <!-- sqlSessionFactory -->
    <bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">
        <!-- å¼•å…¥æ•°æ®æº -->
        <property name="dataSource" ref="dataSource" />
        <!-- åŠ è½½æ‰€æœ‰çš„ mapper è·¯å¾„ -->
        <property name="mapperLocations" value="classpath:com/dims/mapper/*Mapper.xml" />
        <!-- é…ç½®åˆ«å -->
        <property name="typeAliasesPackage" value="com.dims.domain" />
    </bean>
    
    <!-- æ‰«æ mapper å±‚ -->
    <bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">
        <!-- æ‰«æ mapper æ¥å£çš„åŒ…è·¯å¾„ -->
        <property name="basePackage" value="com.dims.mapper" />
    </bean>
    
    <!-- æ‰«æ service å±‚ -->
    <context:component-scan base-package="com.dims.service" />
    
    <!-- action -->
</beans>
```

### é…ç½® log4j  

åœ¨ `resource` ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªåä¸º `log4j.properties` çš„æ–‡ä»¶ï¼š  

log4j.propertiesï¼š  

```
log4j.rootLogger=ERROR, stdout

log4j.logger.com.sms=TRACE

log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%d %p [%c] - %m%n
```

### é›†æˆåŸºäº Bootstrap å‰ç«¯æ¡†æ¶çš„ ACE ç®¡ç†ç³»ç»Ÿé¡µé¢æ¨¡æ¿  

* [ACE ç®¡ç†ç³»ç»Ÿé¡µé¢æ¨¡æ¿é¢„è§ˆ](http://ace.jeka.by/)  
* [ACE GitHub é¡¹ç›®](https://github.com/bopoda/ace)  
* [ACE GitHub é¡¹ç›® (ä¸­æ–‡ç‰ˆ)](https://github.com/XinLiangCoder/AceAdmin)  

ä» ACE çš„ GitHub é¡¹ç›®é¡µé¢ä¸‹è½½è¯¥é¡¹ç›®çš„å‹ç¼©åŒ…ï¼Œè§£å‹åå°†è§£å‹è·¯å¾„ä¸‹çš„ `assets` æ–‡ä»¶å¤¹å¤åˆ¶åˆ°é¡¹ç›®çš„ `WebContent` ç›®å½•ä¸‹ã€‚  

### å¯¼å…¥ Apache Taglibs çš„ jar åŒ…  

* [Apache Taglibs å®˜ç½‘ä¸‹è½½é¡µé¢](http://tomcat.apache.org/download-taglibs.cgi)  

éœ€è¦å¯¼å…¥çš„ jar åŒ…ï¼š  

* taglibs-standard-impl-1.2.5.jar  
* taglibs-standard-spec-1.2.5.jar  

## æµ‹è¯•ä¸éªŒæ”¶  

### ç•Œé¢æµ‹è¯•  

ç•Œé¢æµ‹è¯•ï¼šåå¤ä¸é—´æ–­åœ°ç‚¹å‡»å„çª—ä½“è¿æ¥ï¼Œæµ‹è¯•å…¶è¿æ¥æƒ…å†µæ˜¯å¦è¾¾åˆ°é¢„æœŸæ•ˆæœã€‚  

å‘ç°çš„é—®é¢˜ï¼š  

1. 360 å®‰å…¨æµè§ˆå™¨ä½¿ç”¨å…¼å®¹æ¨¡å¼æ—¶ï¼Œéƒ¨åˆ†é“¾æ¥æ— æ³•æ­£ç¡®å¤„ç†ã€‚(æé€Ÿæ¨¡å¼å¯è¡Œ)  

    å®¢æˆ·ç«¯é¡µé¢æŠ¥é”™ï¼š  

    ```
    HTTP Status 400 - é”™è¯¯çš„è¯·æ±‚
    Typeï¼šå¼‚å¸¸æŠ¥å‘Š
    æ¶ˆæ¯ï¼šInvalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986
    æè¿°ï¼šç”±äºè¢«è®¤ä¸ºæ˜¯å®¢æˆ·ç«¯å¯¹é”™è¯¯ (ä¾‹å¦‚ï¼šç•¸å½¢çš„è¯·æ±‚è¯­æ³•ã€æ— æ•ˆçš„è¯·æ±‚ä¿¡æ¯å¸§æˆ–è€…è™šæ‹Ÿçš„è¯·æ±‚è·¯ç”±)ï¼ŒæœåŠ¡å™¨æ— æ³•æˆ–ä¸ä¼šå¤„ç†å½“å‰è¯·æ±‚ã€‚
    Exceptionï¼š
    java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986
        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:468)
        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:292)
        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579)
        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
        at java.lang.Thread.run(Thread.java:748)
    ```

    æœåŠ¡å™¨ç«¯ Tomcat æŠ¥é”™ï¼š  

    ```
    åäºŒæœˆ 22, 2019 3:28:49 ä¸‹åˆ org.apache.coyote.http11.Http11Processor service
    ä¿¡æ¯: è§£æ HTTP è¯·æ±‚ header é”™è¯¯
    Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.
    java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986
        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:468)
        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:292)
        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579)
        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
        at java.lang.Thread.run(Thread.java:748)
    ```

    è§£å†³æ–¹æ³•ï¼šåº”è¯¥æ˜¯ç¼–ç çš„é—®é¢˜ï¼ŒğŸ™ƒ ç´¯äº†ï¼Œä¸æƒ³ç†ä¼š 360 è¿™æœµå¥‡è‘© ğŸ™ƒã€‚  

### åŠŸèƒ½æµ‹è¯•  

åŠŸèƒ½æµ‹è¯•ï¼šå¯¹ç³»ç»Ÿå„åŠŸèƒ½æ¨¡å—é€ä¸€æµ‹è¯•ï¼Œå°½æœ€å¤§å¯èƒ½åœ°å‘ç°æ½œåœ¨ BUG é”™è¯¯ã€‚  

å‘ç°çš„é—®é¢˜ï¼š  

1. æ²¡æœ‰å¯¹å¤„æ–¹è¡¨å•å½“ä¸­çš„ç—…äººèº«ä»½è¯å·ç è¾“å…¥æ ä½œè¾“å…¥é™åˆ¶ï¼Œè¯¥è¾“å…¥æ å¯ä»¥è¾“å…¥ä¸­æ–‡å­—ç¬¦å’Œç‰¹æ®Šç¬¦å·ã€‚  

    è§£å†³æ–¹æ³•ï¼šåœ¨ç—…äººèº«ä»½è¯å·ç çš„è¾“å…¥æ ‡ç­¾å½“ä¸­é™åˆ¶æ–‡æœ¬è¾“å…¥ç±»å‹ (æ²¡æœ‰å®Œå…¨è§£å†³ï¼Œä»ç„¶å¯ä»¥è¾“å…¥ä¸‹åˆ’çº¿ `_`)ï¼š  

    ```html
    <input ... onKeyUp="value=value.replace(/[\W]/g,'')" />
    ```

2. åœ¨æ–°å¢è¯å“å…¥åº“è¡¨å•å½“ä¸­ï¼Œè¯å“æ•°é‡è¾“å…¥æ çš„æœ€å°å€¼è¾“å…¥é™åˆ¶è®¾ç½®ä¸º 0ï¼Œè€Œæ•°é‡ä¸º 0 çš„è¯å“æ‰¹æ¬¡æ²¡æœ‰æ„ä¹‰ã€‚  

    è§£å†³æ–¹æ³•ï¼šå¯¹äºæ–°å¢è¯å“å…¥åº“è¡¨å•ï¼Œé™åˆ¶è¯å“æ•°é‡è¾“å…¥æ ‡ç­¾çš„è¾“å…¥æœ€å°å€¼ä¸º 1ï¼›å¯¹äºä¿®æ”¹è¯å“å…¥åº“è¡¨å•ï¼Œé™åˆ¶è¯å“æ•°é‡è¾“å…¥æ ‡ç­¾çš„è¾“å…¥æœ€å°å€¼ä¸º 0ã€‚  

    ```javascript
    $('#spinner1').ace_spinner({value:${type ? '1' : '0'}, min:${type ? '1' : '0'}, max:10000, step:100, btn_up_class:'btn-info', btn_down_class:'btn-info'})
    .closest('.ace-spinner')
    .on('changed.fu.spinbox', function(){
        //console.log($('#spinner1').val())
    });
    ```

### æ€§èƒ½æµ‹è¯•  

æ€§èƒ½æµ‹è¯•ï¼šå°†ç¨‹åºä»¥å±€åŸŸç½‘çš„å½¢å¼è¿æ¥æ•°æ®åº“ï¼ŒæŸ¥çœ‹æ•°æ®è¿æ¥æ˜¯å¦æ»¡è¶³å¤šç”¨æˆ·çš„è¦æ±‚ã€‚  

### éœ€æ±‚æµ‹è¯•  

éœ€æ±‚æµ‹è¯•ï¼šæ ¹æ®éœ€æ±‚åˆ†æçš„å†…å®¹ï¼Œç»™ä½¿ç”¨è€…è¿›è¡Œè¯•ç”¨ï¼Œæµ‹è¯•è½¯ä»¶æ˜¯å¦å’Œå½“åˆè®¾è®¡çš„ä¸€æ ·èƒ½æ»¡è¶³å„ç”¨æˆ·éœ€æ±‚ã€‚  

å‘ç°çš„é—®é¢˜ï¼š  

1. åŒ»ç”Ÿå’Œå‘è¯å¤„æŠ¤å£«çš„è‹¥å¹²éœ€è¦æŸ¥è¯¢å¤„æ–¹åˆ—è¡¨çš„é¡µé¢æ²¡æœ‰å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆå§‹åŒ–çš„æ’åºã€‚  

    è§£å†³æ–¹æ³•ï¼š  

    åŸæŸ¥è¯¢ä»£ç ï¼š  

    ```sql
    SELECT *
    FROM Prescription
    WHERE Dno = #{Dno};
    ```

    ä¿®æ”¹åçš„æŸ¥è¯¢ä»£ç ï¼š  

    ```sql
    SELECT *
    FROM Prescription
    WHERE Dno = #{Dno}
    ORDER BY Ptime DESC;
    ```

## é‡åˆ°çš„é—®é¢˜  

1. `javax.el.PropertyNotFoundException: ç±»å‹[com.dims.domain.InventoryDrug]ä¸Šæ‰¾ä¸åˆ°å±æ€§[Sno]`ï¼š  
    
    å‚è€ƒï¼š  
    * [javax.el.PropertyNotFoundExceptionâ€”â€”å±æ€§æœªæ‰¾åˆ°](https://blog.csdn.net/gr_guhun/article/details/89953842)  

2. å…³äº jsp é¡µé¢å½“ä¸­ Date / DateTime ç±»å‹çš„å€¼çš„æ˜¾ç¤ºæ ¼å¼é—®é¢˜ï¼š  

    å‚è€ƒï¼š
    * [jsp ä¸­çš„æ—¥æœŸæ˜¾ç¤ºé—®é¢˜](https://blog.csdn.net/xiaolizi22233/article/details/54237183)  
    * [jstl æ ‡ç­¾çš„ fmt:formatDate æ ¼å¼åŒ–æ—¥æœŸ String to Date](https://www.cnblogs.com/jxldjsn/p/6936924.html)  

3. å…³äº jsp é¡µé¢å½“ä¸­å®å‹å€¼çš„æ˜¾ç¤ºæ ¼å¼é—®é¢˜ï¼š  

    å‚è€ƒï¼š  
    * [jsp é¡µé¢çš„æ•°æ˜¾ç¤ºä¸¤ä½å°æ•°](https://blog.csdn.net/guorun18/article/details/49616985)  

4. å…³äº `Model Attribute` å’Œ `Session Attribute` çš„ä½œç”¨åŸŸé—®é¢˜ï¼š  

    å‚è€ƒï¼š  
    * []()  

5. SpringMVC å½“ä¸­ Controller å±‚èƒ½ä¸èƒ½æœ‰é‡è½½æ–¹æ³•ï¼Ÿ  

    å‚è€ƒï¼š  
    * [SpringMVC é‡Œé¢ Controller èƒ½ä¸èƒ½é‡è½½æ–¹æ³•](https://blog.csdn.net/qq_38366063/article/details/93030217)  

6. æ€ä¹ˆæŠŠ Markdown æ–‡ä»¶è½¬åŒ–ä¸º HTML æ ¼å¼ï¼Ÿ  

    å‚è€ƒï¼š  
    * [Visual Studio Code æ’ä»¶ Markdown All in One](https://github.com/yzhang-gh/vscode-markdown)  

7. æ€ä¹ˆæŠŠèšåˆå‡½æ•° `SUM` çš„ `NULL` èšåˆç»“æœå€¼æ”¹ä¸º `0`ï¼Ÿ  

    å‚è€ƒï¼š  
    * [SQL Server èšåˆå‡½æ•° SUM è®¡ç®—å‡ºæ¥ä¸ºç©ºï¼Œæ€æ ·è¿”å› 0](https://blog.csdn.net/weixin_30740295/article/details/97448163)  

8. MyBatis Mapper å±‚çš„ XML æ˜ å°„æ–‡ä»¶æŠ¥é”™ `The content of elements must consist of well-formed character data or markup.`ï¼š  

    å‚è€ƒï¼š  
    * [MyBatis æŠ¥ The content of elements must consist of well-formed character data or markup. è¯­æ³•æ ¼å¼é”™è¯¯](https://www.cnblogs.com/wangjinyu/p/10100550.html)  
    * [MyBatis å¼‚å¸¸ï¼šThe content of elements must consist of well-formed character data or markup. çš„è§£å†³æ–¹æ³•](https://blog.csdn.net/qq_37856300/article/details/85296159)  

9. æ€ä¹ˆæŠŠ SQL Server `GETDATE()` å‡½æ•°è¿”å›çš„ `DATETIME` ç±»å‹çš„å€¼è½¬æ¢ä¸º `DATE` ç±»å‹çš„å€¼ï¼Ÿ  

    å‚è€ƒï¼š  
    * [SQL Server GETDATE() å‡½æ•°](https://www.w3school.com.cn/sql/func_getdate.asp)  
    * [SQL Server è·å–å½“å‰æ—¥æœŸ](https://www.cnblogs.com/Scholars/p/8919094.html)  
    * [SQL Server ä¸­å°† DATETIME ç±»å‹è½¬æ¢ä¸º DATEï¼Œæˆ–è€… TIME](https://blog.csdn.net/diligentcatrich/article/details/6274126)  
    * [SQL Server DATETIME æ•°æ®ç±»å‹çš„æ ¼å¼è½¬æ¢](https://www.cnblogs.com/fubeidong/archive/2007/07/06/526247.html)  

10. åœ¨ SQL Server å½“ä¸­æ€ä¹ˆè®¡ç®—æ—¶é—´å·®ï¼Ÿ  

    å‚è€ƒï¼š  
    * [SQL Server DATEDIFF() å‡½æ•°](https://www.w3school.com.cn/sql/func_datediff.asp)  

11. æ€æ ·è¿›è¡Œå†…ç½‘ç©¿é€ï¼Œè®©å¤–ç½‘èƒ½è®¿é—®æœ¬åœ°çš„åº”ç”¨ï¼Ÿ  

    å‚è€ƒï¼š  
    * [èŠ±ç”Ÿå£³å®˜ç½‘](https://hsk.oray.com/)  
    * [ä¸€åˆ†é’Ÿå®ç°å†…ç½‘ç©¿é€ (ngrok æœåŠ¡å™¨æ­å»º)](https://blog.csdn.net/zhangguo5/article/details/77848658)  
    * [å†…ç½‘ç©¿é€ç¥å™¨â€”â€”Serveo](https://www.jianshu.com/p/d0b3991a9ce1)  
    * [å†…ç½‘ç©¿é€å·¥å…·çš„åŸç†ä¸å¼€å‘å®æˆ˜](https://zhuanlan.zhihu.com/p/30351943)  

12. Java å¦‚ä½•å¯¹æšä¸¾ç±»å‹çš„å˜é‡è¿›è¡Œèµ‹å€¼ï¼Ÿ  

    å‚è€ƒï¼š  
    * [Java æšä¸¾ç±»å‹çš„ä½¿ç”¨](https://www.cnblogs.com/Jesuslovesme/p/8982595.html)  

13. Java å¦‚ä½•å¯¹ Date ç±»å‹çš„å˜é‡è¿›è¡Œèµ‹å€¼ï¼Ÿ  

    å‚è€ƒï¼š  
    * [Java å®ç°æ—¥æœŸ Date çš„èµ‹å€¼](https://blog.csdn.net/qq_42928918/article/details/89324295)  

14. URL ä¸­å‚æ•°å¸¦ç©ºæ ¼åº”è¯¥å¦‚ä½•è¡¨ç¤ºï¼Ÿ  

    å‚è€ƒï¼š  
    * [URL å‚æ•°ä¸­æœ‰ +ã€ç©ºæ ¼ã€=ã€%ã€&ã€# ç­‰ç‰¹æ®Šç¬¦å·çš„é—®é¢˜è§£å†³](https://www.cnblogs.com/jphoebe/p/6437185.html)  

15. å…³äº Java çš„é‡å†™ (Override) ä¸é‡è½½ (Overload):  

    å‚è€ƒï¼š  
    * [Java é‡å†™ (Override) ä¸é‡è½½ (Overload)](https://www.runoob.com/java/java-override-overload.html)  

16. MyBatis çš„ Mapper å±‚æ¥å£æ–¹æ³•å¯ä»¥é‡è½½å—ï¼Ÿ  

    ä¸èƒ½ ğŸ˜­ã€‚  

    å‚è€ƒï¼š  
    * [MyBatis ä¸­çš„ dao å±‚æ¥å£æ˜¯å¦å¯ä»¥é‡è½½ï¼Ÿ](https://www.cnblogs.com/wgyi140724-/p/10736575.html)   
    * [MyBatis æ³¨è§£æ–¹æ³•ä¸èƒ½é‡è½½](https://blog.csdn.net/unix21/article/details/52239514)  
    
    æœ‰ç©ºå†çœ‹ï¼š  
    * [MyBatis æ¥å£é‡è½½ï¼šä½¿ç”¨ JDK 1.8 default å…³é”®å­—è§£å†³ MyBatis æ–¹æ³•ä¸æ”¯æŒé‡è½½é—®é¢˜](https://blog.csdn.net/qq_28898917/article/details/103567919)  

17. MyBatis å¦‚ä½•è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ï¼Ÿ  

    å‚è€ƒï¼š  
    * [MyBatis ç¤ºä¾‹ä¹‹å­˜å‚¨è¿‡ç¨‹](https://www.cnblogs.com/wojiaochuichui/p/8568208.html)  
    * [MyBatis è°ƒç”¨å­˜å‚¨è¿‡ç¨‹](http://www.luyixian.cn/news_show_5471.aspx)  
    * [MyBatis è°ƒç”¨å­˜å‚¨è¿‡ç¨‹è·å¾—å–è¿”å›å€¼](https://www.cnblogs.com/yanan7890/p/8776379.html)  

18. SQL Server äº‹åŠ¡çš„ä½¿ç”¨æ˜¯ä¸ºäº†ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä½†æ˜¯å½“æ“ä½œ (å¢åˆ æ”¹) å‘ç”Ÿç”± NULL å€¼å¼•å‘çš„é”™è¯¯æ—¶ï¼Œäº‹åŠ¡ä¼šè·³è¿‡é”™è¯¯ç»§ç»­æ‰§è¡Œæ­£å¸¸çš„è¯­å¥ï¼Œå¦‚ä½•è®©è¯¥ç§äº‹åŠ¡å›æ»šï¼Ÿ  

    å‚è€ƒï¼š  
    * [SQL Server äº‹åŠ¡çš„ä½¿ç”¨ (tran)](https://www.cnblogs.com/itsone/p/10273317.html)  

19. MyBatis insert Mapper å¦‚ä½•è·å–è‡ªå¢ä¸»é”®å€¼ï¼Ÿ  

    å‚è€ƒï¼š  
    * [Mybatis è·å–è‡ªå¢ä¸»é”®å€¼ (Mysqlã€Oracle)](https://blog.csdn.net/yamadeee/article/details/83997122)  

19. SQL Server æ€ä¹ˆæŸ¥è¯¢æ‰€æœ‰ç™»å½•ç”¨æˆ·ï¼Ÿ  

    å‚è€ƒï¼š  
    * [SQL Query for Logins](https://stackoverflow.com/questions/37275/sql-query-for-logins)  
20. HTML è¡¨å•éšè—åŸŸæ€ä¹ˆå®ç°ï¼Ÿ  

    å‚è€ƒï¼š  
    * [HTML è¡¨å•éšè—åŸŸ](https://blog.csdn.net/qq_36260974/article/details/88370624)  

22. SQL Server æ¸¸æ ‡çš„ä½¿ç”¨ï¼Ÿ  

    å‚è€ƒï¼š  
    * [SQL Server ç®€å•æ¸¸æ ‡ä½¿ç”¨](https://blog.csdn.net/duqiang741/article/details/80851827)  
    * [SQL Server ä¸­çš„å¾ªç¯éå† (æ™®é€šå¾ªç¯å’Œæ¸¸æ ‡å¾ªç¯)](https://blog.csdn.net/weixin_42026802/article/details/80575689)  

23. SQL Server å®šä¹‰æ¸¸æ ‡æ—¶çš„å­æŸ¥è¯¢ä¸èƒ½ä½¿ç”¨ ORDER BY è¯­å¥ï¼Ÿ  

    å‚è€ƒï¼š  
    * [æ¸¸æ ‡è¯»å–çš„ SELECT è¯­å¥ä¸èƒ½ç”¨ ORDER BY æ’åºï¼Œæ€ä¹ˆåŠï¼Ÿ](https://bbs.csdn.net/topics/391931688)  
    * [SQL Server é‡Œçš„æ¸¸æ ‡é‡Œä½¿ç”¨ ORDER BY è¯­å¥](https://blog.csdn.net/Pagegle/article/details/84587608)  
    * [SQL Server é‡Œçš„æ¸¸æ ‡ï¼Œå®ƒçš„æ•°æ®é›†é‡Œå†™çš„ SELECT è¯­å¥å¯ä»¥ç”¨ ORDER BY å—ï¼Ÿ](https://bbs.csdn.net/topics/390958749)  

24. HTML å¦‚ä½•é™åˆ¶ input è¾“å…¥æ çš„æ–‡æœ¬è¾“å…¥ï¼Ÿ  

    å‚è€ƒï¼š  
    * [HTML é™åˆ¶æ–‡æœ¬æ¡†è¾“å…¥ç±»å‹](https://www.jianshu.com/p/4e1e7c765512)  

## æˆæœæˆªå›¾  

![æˆæœæˆªå›¾_1](./Doc/screenshot_1.png)  

![æˆæœæˆªå›¾_2](./Doc/screenshot_2.png)  

![æˆæœæˆªå›¾_3](./Doc/screenshot_3.png)  

![æˆæœæˆªå›¾_4](./Doc/screenshot_4.png)  

![æˆæœæˆªå›¾_5](./Doc/screenshot_5.png)  

![æˆæœæˆªå›¾_6](./Doc/screenshot_6.png)  

![æˆæœæˆªå›¾_7](./Doc/screenshot_7.png)  
